<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0028)http://zyan.cc/nginx_php_v5/ -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="Content-Language" content="UTF-8">
<meta content="all" name="robots">
<meta name="author" content="张宴的博客">
<meta name="description" content="Web系统架构与底层研发">
<meta name="keywords" content="linux,php,mysql,nginx,apache,html,centos,http,apc,xcache,memcached,httpd,memcache,epoll,张宴,回忆未来,系统架构师,网站系统架构,Web,数据库,视频,负载均衡,搜索引擎,数据挖掘,网游运营">
<!--<base href="http://zyan.cc/">--><base href=".">
<link rel="alternate" title="张宴的博客" href="http://zyan.cc/feed.php" type="application/rss+xml">
<link rel="stylesheet" rev="stylesheet" href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/styles.css" type="text/css" media="all">
<link rel="stylesheet" rev="stylesheet" href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/5.1.css" type="text/css" media="all">

<title>Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发</title>
<script src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/hm.js.下载"></script><script src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/ca-pub-5999575502865975.js.下载"></script><script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/common.js.下载"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://zyan.cc/inc/rsd.php">
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/jslang.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/ajax.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/swfobject.js.下载"></script>
<script type="text/javascript">
//<![CDATA[
var moreimagepath="template/RuiPai/images";
var shutajax=0;
var absbaseurl='http://zyan.cc/';
//]]>
</script>
<link title="搜索 张宴的博客" rel="search" type="application/opensearchdescription+xml" href="http://zyan.cc/inc/opensearch.php">


<link type="text/css" rel="stylesheet" href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/SyntaxHighlighter.css">

<link rel="preload" href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/integrator.js.下载" as="script"><script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/integrator.js.下载"></script><script src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/logger.js.下载"></script><link href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/bdsstyle.css" rel="stylesheet" type="text/css"></head>
<body rlt="1" style=""><iframe frameborder="0" style="display: none;" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/saved_resource.html"></iframe><div id="bdshare" style="right: 0px; top: 238px; position: fixed; height: 330px; overflow: hidden;"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/r1.gif" alt="" style="float:left;margin-top:58px;"><iframe id="bdsIfr" style="position:absolute;display:none;z-index:9999;" frameborder="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/saved_resource(1).html"></iframe><div id="bdshare_l" style="display: none; left: 24px;"><div id="bdshare_l_c"><h6>分享到</h6><ul><li><a href="http://zyan.cc/#" class="bds_mshare mshare">一键分享</a></li><li><a href="http://zyan.cc/#" class="bds_qzone qqkj">QQ空间</a></li><li><a href="http://zyan.cc/#" class="bds_tsina xlwb">新浪微博</a></li><li><a href="http://zyan.cc/#" class="bds_bdysc bdysc">百度云收藏</a></li><li><a href="http://zyan.cc/#" class="bds_renren rrw">人人网</a></li><li><a href="http://zyan.cc/#" class="bds_tqq txwb">腾讯微博</a></li><li><a href="http://zyan.cc/#" class="bds_bdxc bdxc">百度相册</a></li><li><a href="http://zyan.cc/#" class="bds_kaixin001 kxw">开心网</a></li><li><a href="http://zyan.cc/#" class="bds_tqf txpy">腾讯朋友</a></li><li><a href="http://zyan.cc/#" class="bds_tieba bdtb">百度贴吧</a></li><li><a href="http://zyan.cc/#" class="bds_douban db">豆瓣网</a></li><li><a href="http://zyan.cc/#" class="bds_tsohu shwb">搜狐微博</a></li><li><a href="http://zyan.cc/#" class="bds_bdhome bdhome">百度新首页</a></li><li><a href="http://zyan.cc/#" class="bds_sqq sqq">QQ好友</a></li><li><a href="http://zyan.cc/#" class="bds_thx thx">和讯微博</a></li><li><a href="http://zyan.cc/#" class="bds_more">更多...</a></li></ul><p><a href="http://zyan.cc/#" class="goWebsite">百度分享</a></p></div></div></div>
<div id="wrapper">
	<div id="innerWrapper">
		<div id="header">
			<div id="innerHeader">
				<div id="blogLogo">
				</div>
				<div class="blog-header">
					<h1 class="blog-title"><a href="http://zyan.cc/index.php">张宴的博客</a></h1>
					<div class="blog-desc">Web系统架构与底层研发</div>
				</div>
				<div id="menu">
					<ul>
					<li><span id="nav_http_3A_2F_2Fis.gd_2F4NDMa"><a href="http://is.gd/4NDMa" target="_blank" title="英文版 English edition"><span id="navitem_http_3A_2F_2Fis.gd_2F4NDMa">English</span></a></span></li>
<li><span id="nav_feed"><a href="http://zyan.cc/feed.php" target="_blank"><span id="navitem_feed">RSS</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fiask.sina.com.cn_2Fuser_2Fmy_ishare_3Fuid_3D1278987704"><a href="http://iask.sina.com.cn/user/my_ishare.php?uid=1278987704" target="_blank" title="我的共享资料"><span id="navitem_http_3A_2F_2Fiask.sina.com.cn_2Fuser_2Fmy_ishare_3Fuid_3D1278987704">我的共享</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fzyan.cc_2Ftech_2F"><a href="http://zyan.cc/tech/" target="_blank" title="我的技术文章与计算机作品汇总页"><span id="navitem_http_3A_2F_2Fzyan.cc_2Ftech_2F">技术汇总</span></a></span></li>
<li><span id="nav_star"><a href="http://zyan.cc/star.php"><span id="navitem_star">星标日志</span></a></span></li>
<li><span id="nav_guestbook"><a href="http://zyan.cc/guestbook.php"><span id="navitem_guestbook">留言</span></a></span></li>
<li><span id="nav_http_3A_2F_2Fphoto.weibo.com_2F103500_2Falbums"><a href="http://photo.weibo.com/103500/albums" target="_blank" title="旅行相册"><span id="navitem_http_3A_2F_2Fphoto.weibo.com_2F103500_2Falbums">旅行相册</span></a></span></li>
<li><span id="nav_index" class="activepage"><a href="http://zyan.cc/index.php"><span id="navitem_index" class="activepageitem">首页</span></a></span></li>
					</ul>
				</div>
			</div>
		</div>
		<div id="mainWrapper">
			<div id="content" class="content">
				<div id="innerContent">
					<div class="announce" style="display: none">
						<div class="announce-content">
						
						</div>
					</div>
					<div class="article-top" style="display: none">
						<div class="pages">
							
						</div>
					</div>
					<div class="article-top">
	<div class="prev-article"><a href="http://zyan.cc/post/412/" title="上一篇 Sun发布了MySQL 5.4，比MySQL 5.1快了59%"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/toolbar_previous.gif" alt="" border="0">Sun发布了MySQL 5.4，比MySQL 5.1快了59%</a></div>
	<div class="next-article"><a href="http://zyan.cc/post/414/" title="下一篇 从“军事战争”总结了一些服务器架构思考[原创]"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/toolbar_next.gif" alt="" border="0">从“军事战争”总结了一些服务器架构思考[原创]</a></div>
</div>
<div class="textbox">
	<div class="textbox-title">
		<h4>
		<span id="starid413"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/starred.gif" alt="" title="已加星标" border="0"></span> <a href="http://zyan.cc/nginx_php_v5/">Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创]</a>
		</h4>
		<div class="textbox-fontsize">
		<img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/toolbar_fontsize.gif" alt="" title="字体大小" border="0"> <a href="javascript: doZoom(16);">大</a> | <a href="javascript: doZoom(14);">中</a> | <a href="javascript: doZoom(12);">小</a> <a href="http://zyan.cc/feed.php?go=entry_413"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/toolbar_rss.gif" alt="" title="订阅本文" border="0"></a>
		</div>
		<div class="textbox-label">
		[<img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/blank.gif" alt="不指定" title="不指定"> 2009-5-6 13:40 | by <a href="http://zyan.cc/user/2/" target="_blank">张宴</a> ]
		</div>
	</div>
	<div class="textbox-content" id="zoomtext">
		　　<strong><span style="font-size: 14px;"><span style="color: #FF0000;">本文已有最新版本：</span></span></strong><br><br>　　<strong><span style="font-size: 14px;"><span style="color: #FF0000;">请点击</span>《<a href="http://blog.zyan.cc/nginx_php_v6/" target="_blank">Nginx 0.8.x + PHP 5.2.13（FastCGI）搭建胜过Apache十倍的Web服务器（第6版）</a>》</span></strong><br><br><hr><br><br>　　[文章作者：张宴 本文版本：v5.5 最后修改：<span style="color: #FF0000;">2009.09.18</span> 转载请注明原文链接：<a href="http://blog.zyan.cc/nginx_php_v5/" target="_blank">http://blog.zyan.cc/nginx_php_v5/</a>]<br><br>　　前言：本文是我撰写的关于搭建“Nginx + PHP（FastCGI）”Web服务器的第5篇文章。本系列文章作为国内最早详细介绍 Nginx + PHP 安装、配置、使用的资料之一，为推动 Nginx 在国内的发展产生了积极的作用。这是一篇关于Nginx 0.7.x系列版本的文章，安装、配置方式与第4篇文章相差不大，但增加了MySQL安装配置的信息、<strong>PHP 5.2.10 的 php-fpm 补丁</strong>。Nginx 0.7.x系列版本虽然为开发版，但在很多大型网站的生产环境中已经使用。<br><br>　　链接：《<a href="http://zyan.cc/post/297/" target="_blank">2007年9月的第1版</a>》、《<a href="http://zyan.cc/post/314/" target="_blank">2007年12月的第2版</a>》、《<a href="http://zyan.cc/post/351/" target="_blank">2008年6月的第3版</a>》、《<a href="http://zyan.cc/nginx_php_v4/" target="_blank">2008年8月的第4版</a>》<br><br>　　<a href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx.png" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx.png" class="insertimage" alt="点击在新窗口中浏览此图片" title="点击在新窗口中浏览此图片" border="0"></a><br><br>　　<a href="http://www.nginx.net/" target="_blank">Nginx</a> ("engine x") 是一个高性能的 HTTP 和反向代理服务器，也是一个 IMAP/POP3/SMTP 代理服务器。 Nginx 是由 Igor Sysoev 为俄罗斯访问量第二的 Rambler.ru 站点开发的，它已经在该站点运行超过两年半了。Igor 将源代码以类BSD许可证的形式发布。<br><br>　　Nginx 超越 Apache 的高性能和稳定性，使得国内使用 Nginx 作为 Web 服务器的网站也越来越多，其中包括<a href="http://blog.sina.com.cn/" target="_blank">新浪博客</a>、<a href="http://v.sina.com.cn/" target="_blank">新浪播客</a>、<a href="http://news.163.com/" target="_blank">网易新闻</a>等门户网站频道，<a href="http://www.6.cn/" target="_blank">六间房</a>、<a href="http://www.56.com/" target="_blank">56.com</a>等视频分享网站，<a href="http://www.discuz.net/" target="_blank">Discuz!官方论坛</a>、<a href="http://www.newsmth.net/" target="_blank">水木社区</a>等知名论坛，<a href="http://www.douban.com/" target="_blank">豆瓣</a>、<a href="http://www.yupoo.com/" target="_blank">YUPOO相册</a>、<a href="http://www.hainei.com/" target="_blank">海内SNS</a>、<a href="http://www.xunlei.com/" target="_blank">迅雷在线</a>等新兴Web 2.0网站。<br><br><hr><br>　　Nginx 的官方中文维基：<a href="http://wiki.nginx.org/NginxChs" target="_blank">http://wiki.nginx.org/NginxChs</a><br><br><hr><br>　　在高并发连接的情况下，Nginx是Apache服务器不错的替代品。Nginx同时也可以作为7层负载均衡服务器来使用。根据我的测试结果，<strong>Nginx 0.8.15 + PHP 5.2.10 (FastCGI) 可以承受3万以上的并发连接数，相当于同等环境下Apache的10倍</strong>。<br><br>　　根据我的经验，4GB内存的服务器+Apache（prefork模式）一般只能处理3000个并发连接，因为它们将占用3GB以上的内存，还得为系统预留1GB的内存。我曾经就有两台Apache服务器，因为在配置文件中设置的MaxClients为4000，当Apache并发连接数达到3800时，导致服务器内存和Swap空间用满而崩溃。<br><br>　　而这台 Nginx 0.8.15 + PHP 5.2.10 (FastCGI) 服务器在3万并发连接下，开启的10个Nginx进程消耗150M内存（15M*10=150M），开启的64个php-cgi进程消耗1280M内存（20M*64=1280M），加上系统自身消耗的内存，总共消耗不到2GB内存。如果服务器内存较小，完全可以只开启25个php-cgi进程，这样php-cgi消耗的总内存数才500M。<br><br>　　在3万并发连接下，访问Nginx 0.8.15 + PHP 5.2.10 (FastCGI) 服务器的PHP程序，仍然速度飞快。下图为Nginx的状态监控页面，显示的活动连接数为28457（关于Nginx的监控页配置，会在本文接下来所给出的Nginx配置文件中写明）：<br><br>　　<a href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx_status.png" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx_status.png" class="insertimage" alt="点击在新窗口中浏览此图片" title="点击在新窗口中浏览此图片" border="0"></a><br><br>　　我生产环境下的两台Nginx + PHP5（FastCGI）服务器，跑多个一般复杂的纯PHP动态程序，单台Nginx + PHP5（FastCGI）服务器跑PHP动态程序的处理能力已经超过“<span style="color: #FF0000;">700次请求/秒</span>”，相当于每天可以承受6000万（700*60*60*24=60480000）的访问量（<a href="http://zyan.cc/read.php/334.htm" target="_blank">更多信息见此</a>），而服务器的系统负载也不高：<br><br>　　<a href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx_php_la.gif" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx_php_la.gif" class="insertimage" alt="点击在新窗口中浏览此图片" title="点击在新窗口中浏览此图片" border="0"></a><br><br>　　2009年9月3日下午2：30，金山游戏《剑侠情缘网络版叁》临时维护1小时（<a href="http://kefu.xoyo.com/gonggao/jx3/2009-09-03/750438.shtml" target="_blank">http://kefu.xoyo.com/gonggao/jx3/2009-09-03/750438.shtml</a>），大量玩家上官网，论坛、评论、客服等动态应用Nginx服务器集群，每台服务器的Nginx活动连接数达到2.8万，这是笔者遇到的Nginx生产环境最高并发值。<br><br>　　<a href="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx_c30k.png" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx_c30k.png" class="insertimage" alt="点击在新窗口中浏览此图片" title="点击在新窗口中浏览此图片" border="0"></a><br><br><hr><br>　　下面是用100个并发连接分别去压生产环境中同一负载均衡器VIP下、提供相同服务的两台服务器，一台为Nginx，另一台为Apache，Nginx每秒处理的请求数是Apache的两倍多，Nginx服务器的系统负载、CPU使用率远低于Apache：<br><br>　　你可以将连接数开到10000～30000，去压Nginx和Apache上的phpinfo.php，这是用浏览器访问Nginx上的phpinfo.php一切正常，而访问Apache服务器的phpinfo.php，则是该页无法显示。4G内存的服务器，即使再优化，Apache也很难在“webbench -c 30000 -t 60 <a href="http://xxx.xxx.xxx.xxx/phpinfo.php" target="_blank">http://xxx.xxx.xxx.xxx/phpinfo.php</a>”的压力情况下正常访问，而调整参数优化后的Nginx可以。<br><br>　　webbench 下载地址：<a href="http://blog.zyan.cc/post/288/" target="_blank">http://blog.zyan.cc/post/288/</a><br><br>　　注意：webbench 做压力测试时，该软件自身也会消耗CPU和内存资源，为了测试准确，请将 webbench 安装在别的服务器上。<br><br>　　测试结果：##### Nginx + PHP #####<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">[root@localhost webbench-1.5]# webbench -c 100 -t 30 <a href="http://192.168.1.21/phpinfo.php" target="_blank">http://192.168.1.21/phpinfo.php</a><br>Webbench - Simple Web Benchmark 1.5<br>Copyright (c) Radim Kolar 1997-2004, GPL Open Source Software.<br><br>Benchmarking: GET <a href="http://192.168.1.21/phpinfo.php" target="_blank">http://192.168.1.21/phpinfo.php</a><br>100 clients, running 30 sec.<br><br>Speed=102450 pages/min, 16490596 bytes/sec.<br>Requests: 51225 susceed, 0 failed.<br><br>top - 14:06:13 up 27 days,&nbsp;&nbsp;2:25,&nbsp;&nbsp;2 users,&nbsp;&nbsp;load average: 14.57, 9.89, 6.51<br>Tasks: 287 total,&nbsp;&nbsp; 4 running, 283 sleeping,&nbsp;&nbsp; 0 stopped,&nbsp;&nbsp; 0 zombie<br>Cpu(s): 49.9% us,&nbsp;&nbsp;6.7% sy,&nbsp;&nbsp;0.0% ni, 41.4% id,&nbsp;&nbsp;1.1% wa,&nbsp;&nbsp;0.1% hi,&nbsp;&nbsp;0.8% si<br>Mem:&nbsp;&nbsp; 6230016k total,&nbsp;&nbsp;2959468k used,&nbsp;&nbsp;3270548k free,&nbsp;&nbsp; 635992k buffers<br>Swap:&nbsp;&nbsp;2031608k total,&nbsp;&nbsp;&nbsp;&nbsp; 3696k used,&nbsp;&nbsp;2027912k free,&nbsp;&nbsp;1231444k cached</div></div><br><br>　　测试结果：#####&nbsp;&nbsp;Apache + PHP #####<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">[root@localhost webbench-1.5]# webbench -c 100 -t 30 <a href="http://192.168.1.27/phpinfo.php" target="_blank">http://192.168.1.27/phpinfo.php</a><br>Webbench - Simple Web Benchmark 1.5<br>Copyright (c) Radim Kolar 1997-2004, GPL Open Source Software.<br><br>Benchmarking: GET <a href="http://192.168.1.27/phpinfo.php" target="_blank">http://192.168.1.27/phpinfo.php</a><br>100 clients, running 30 sec.<br><br>Speed=42184 pages/min, 31512914 bytes/sec.<br>Requests: 21092 susceed, 0 failed.<br><br>top - 14:06:20 up 27 days,&nbsp;&nbsp;2:13,&nbsp;&nbsp;2 users,&nbsp;&nbsp;load average: 62.15, 26.36, 13.42<br>Tasks: 318 total,&nbsp;&nbsp; 7 running, 310 sleeping,&nbsp;&nbsp; 0 stopped,&nbsp;&nbsp; 1 zombie<br>Cpu(s): 80.4% us, 10.6% sy,&nbsp;&nbsp;0.0% ni,&nbsp;&nbsp;7.9% id,&nbsp;&nbsp;0.1% wa,&nbsp;&nbsp;0.1% hi,&nbsp;&nbsp;0.9% si<br>Mem:&nbsp;&nbsp; 6230016k total,&nbsp;&nbsp;3075948k used,&nbsp;&nbsp;3154068k free,&nbsp;&nbsp; 379896k buffers<br>Swap:&nbsp;&nbsp;2031608k total,&nbsp;&nbsp;&nbsp;&nbsp;12592k used,&nbsp;&nbsp;2019016k free,&nbsp;&nbsp;1117868k cached</div></div><br><br><hr><br>　　为什么Nginx的性能要比Apache高得多？这得益于Nginx使用了最新的epoll（Linux 2.6内核）和kqueue（freebsd）网络I/O模型，而Apache则使用的是传统的select模型。目前Linux下能够承受高并发访问的Squid、Memcached都采用的是epoll网络I/O模型。<br><br>　　处理大量的连接的读写，Apache所采用的select网络I/O模型非常低效。下面用一个比喻来解析Apache采用的select模型和Nginx采用的epoll模型进行之间的区别：<br><br>　　假设你在大学读书，住的宿舍楼有很多间房间，你的朋友要来找你。select版宿管大妈就会带着你的朋友挨个房间去找，直到找到你为止。而epoll版宿管大妈会先记下每位同学的房间号，你的朋友来时，只需告诉你的朋友你住在哪个房间即可，不用亲自带着你的朋友满大楼找人。如果来了10000个人，都要找自己住这栋楼的同学时，select版和epoll版宿管大妈，谁的效率更高，不言自明。同理，在高并发服务器中，轮询I/O是最耗时间的操作之一，select和epoll的性能谁的性能更高，同样十分明了。<br><br><hr><br>　　安装步骤：<br>　　（系统要求：Linux 2.6+ 内核，本文中的Linux操作系统为CentOS 5.3，另在RedHat AS4上也安装成功）<br><a name="entrymore"></a><br>　　<strong>一、获取相关开源程序：</strong><br>　　1、【适用CentOS操作系统】利用CentOS Linux系统自带的yum命令安装、升级所需的程序库（RedHat等其他Linux发行版可从安装光盘中找到这些程序库的RPM包，进行安装）：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">sudo -s<br>LANG=C<br>yum -y install gcc gcc-c++ autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel libidn libidn-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers</div><br><br>　　2、【适用RedHat操作系统】RedHat等其他Linux发行版可从安装光盘中找到这些程序库的RPM包（事先可通过类似“rpm -qa | grep libjpeg”的命令查看所需的RPM包是否存在，通常是“xxx-devel”不存在，需要安装）。RedHat可以直接利用CentOS的RPM包安装，以下是RPM包下载网址：<br>　　①、RedHat AS4 &amp; CentOS 4<br>　　<a href="http://mirrors.163.com/centos/4/os/i386/CentOS/RPMS/" target="_blank">http://mirrors.163.com/centos/4/os/i386/CentOS/RPMS/</a><br>　　<a href="http://mirrors.163.com/centos/4/os/x86_64/CentOS/RPMS/" target="_blank">http://mirrors.163.com/centos/4/os/x86_64/CentOS/RPMS/</a><br><br>　　②、RedHat AS5 &amp; CentOS 5<br>　　<a href="http://mirrors.163.com/centos/5/os/i386/CentOS/" target="_blank">http://mirrors.163.com/centos/5/os/i386/CentOS/</a><br>　　<a href="http://mirrors.163.com/centos/5/os/x86_64/CentOS/" target="_blank">http://mirrors.163.com/centos/5/os/x86_64/CentOS/</a><br><br>　　③、RPM包搜索网站<br>　　<a href="http://rpm.pbone.net/" target="_blank">http://rpm.pbone.net/</a><br>　　<a href="http://www.rpmfind.net/" target="_blank">http://www.rpmfind.net/</a><br><br>　　④、RedHat AS4 系统环境，通常情况下缺少的支持包安装：<br>　　Ⅰ、i386 系统<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/rpm/i386/libjpeg-devel-6b-33.i386.rpm" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/rpm/i386/libjpeg-devel-6b-33.i386.rpm</a><br>rpm -ivh libjpeg-devel-6b-33.i386.rpm<br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/rpm/i386/freetype-devel-2.1.9-1.i386.rpm" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/rpm/i386/freetype-devel-2.1.9-1.i386.rpm</a><br>rpm -ivh freetype-devel-2.1.9-1.i386.rpm<br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/rpm/i386/libpng-devel-1.2.7-1.i386.rpm" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/rpm/i386/libpng-devel-1.2.7-1.i386.rpm</a><br>rpm -ivh libpng-devel-1.2.7-1.i386.rpm</div><br>　　Ⅱ、x86_64 系统<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/rpm/x86_64/libjpeg-devel-6b-33.x86_64.rpm" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/rpm/x86_64/libjpeg-devel-6b-33.x86_64.rpm</a><br>rpm -ivh libjpeg-devel-6b-33.x86_64.rpm<br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/rpm/x86_64/freetype-devel-2.1.9-1.x86_64.rpm" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/rpm/x86_64/freetype-devel-2.1.9-1.x86_64.rpm</a><br>rpm -ivh freetype-devel-2.1.9-1.x86_64.rpm<br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/rpm/x86_64/libpng-devel-1.2.7-1.x86_64.rpm" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/rpm/x86_64/libpng-devel-1.2.7-1.x86_64.rpm</a><br>rpm -ivh libpng-devel-1.2.7-1.x86_64.rpm</div><br><br>　　3、【适用CentOS、RedHat及其它Linux操作系统】下载程序源码包：<br>　　本文中提到的所有开源软件为截止到<span style="color: #FF0000;">2009年09月18日</span>的最新稳定版。<br>　　①、从软件的官方网站下载：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">mkdir -p /data0/software<br>cd /data0/software<br>wget <a href="http://sysoev.ru/nginx/nginx-0.8.15.tar.gz" target="_blank">http://sysoev.ru/nginx/nginx-0.8.15.tar.gz</a><br>wget <a href="http://www.php.net/get/php-5.2.10.tar.gz/from/this/mirror" target="_blank">http://www.php.net/get/php-5.2.10.tar.gz/from/this/mirror</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/phpfpm/php-5.2.10-fpm-0.5.11.diff.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/phpfpm/php-5.2.10-fpm-0.5.11.diff.gz</a><br>wget <a href="http://dev.mysql.com/get/Downloads/MySQL-5.1/mysql-5.1.38.tar.gz/from/http://mysql.he.net/" target="_blank">http://dev.mysql.com/get/Downloads/MySQL-5.1/mysql-5.1.38.tar.gz/from/http://mysql.he.net/</a><br>wget <a href="http://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.13.tar.gz" target="_blank">http://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.13.tar.gz</a><br>wget "http://downloads.sourceforge.net/mcrypt/libmcrypt-2.5.8.tar.gz?modtime=1171868460&amp;big_mirror=0"<br>wget "http://downloads.sourceforge.net/mcrypt/mcrypt-2.6.8.tar.gz?modtime=1194463373&amp;big_mirror=0"<br>wget <a href="http://pecl.php.net/get/memcache-2.2.5.tgz" target="_blank">http://pecl.php.net/get/memcache-2.2.5.tgz</a><br>wget "http://downloads.sourceforge.net/mhash/mhash-0.9.9.9.tar.gz?modtime=1175740843&amp;big_mirror=0"<br>wget <a href="ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-7.9.tar.gz" target="_blank">ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-7.9.tar.gz</a><br>wget <a href="http://bart.eaccelerator.net/source/0.9.5.3/eaccelerator-0.9.5.3.tar.bz2" target="_blank">http://bart.eaccelerator.net/source/0.9.5.3/eaccelerator-0.9.5.3.tar.bz2</a><br>wget <a href="http://pecl.php.net/get/PDO_MYSQL-1.0.2.tgz" target="_blank">http://pecl.php.net/get/PDO_MYSQL-1.0.2.tgz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/imagick/ImageMagick.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/imagick/ImageMagick.tar.gz</a><br>wget <a href="http://pecl.php.net/get/imagick-2.2.2.tgz" target="_blank">http://pecl.php.net/get/imagick-2.2.2.tgz</a></div><br>　　②、从<a href="http://blog.zyan.cc/" target="_blank">blog.zyan.cc</a>下载（比较稳定，只允许在本站，或者在Linux/Unix下通过Wget、Curl等命令下载以下软件）：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">mkdir -p /data0/software<br>cd /data0/software<br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/nginx/nginx-0.8.15.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/nginx/nginx-0.8.15.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/php/php-5.2.10.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/php/php-5.2.10.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/phpfpm/php-5.2.10-fpm-0.5.11.diff.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/phpfpm/php-5.2.10-fpm-0.5.11.diff.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/mysql/mysql-5.1.38.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/mysql/mysql-5.1.38.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/libiconv/libiconv-1.13.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/libiconv/libiconv-1.13.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/mcrypt/libmcrypt-2.5.8.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/mcrypt/libmcrypt-2.5.8.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/mcrypt/mcrypt-2.6.8.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/mcrypt/mcrypt-2.6.8.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/memcache/memcache-2.2.5.tgz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/memcache/memcache-2.2.5.tgz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/mhash/mhash-0.9.9.9.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/mhash/mhash-0.9.9.9.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/pcre/pcre-7.9.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/pcre/pcre-7.9.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/eaccelerator/eaccelerator-0.9.5.3.tar.bz2" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/eaccelerator/eaccelerator-0.9.5.3.tar.bz2</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/pdo/PDO_MYSQL-1.0.2.tgz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/pdo/PDO_MYSQL-1.0.2.tgz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/imagick/ImageMagick.tar.gz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/imagick/ImageMagick.tar.gz</a><br>wget <a href="http://blog.zyan.cc/soft/linux/nginx_php/imagick/imagick-2.2.2.tgz" target="_blank">http://blog.zyan.cc/soft/linux/nginx_php/imagick/imagick-2.2.2.tgz</a></div><br><hr><br>　　<strong>二、安装PHP 5.2.10（FastCGI模式）</strong><br>　　1、编译安装PHP 5.2.10所需的支持库：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">tar zxvf libiconv-1.13.tar.gz<br>cd libiconv-1.13/<br>./configure --prefix=/usr/local<br>make<br>make install<br>cd ../<br><br>tar zxvf libmcrypt-2.5.8.tar.gz <br>cd libmcrypt-2.5.8/<br>./configure<br>make<br>make install<br>/sbin/ldconfig<br>cd libltdl/<br>./configure --enable-ltdl-install<br>make<br>make install<br>cd ../../<br><br>tar zxvf mhash-0.9.9.9.tar.gz<br>cd mhash-0.9.9.9/<br>./configure<br>make<br>make install<br>cd ../<br><br>ln -s /usr/local/lib/libmcrypt.la /usr/lib/libmcrypt.la<br>ln -s /usr/local/lib/libmcrypt.so /usr/lib/libmcrypt.so<br>ln -s /usr/local/lib/libmcrypt.so.4 /usr/lib/libmcrypt.so.4<br>ln -s /usr/local/lib/libmcrypt.so.4.4.8 /usr/lib/libmcrypt.so.4.4.8<br>ln -s /usr/local/lib/libmhash.a /usr/lib/libmhash.a<br>ln -s /usr/local/lib/libmhash.la /usr/lib/libmhash.la<br>ln -s /usr/local/lib/libmhash.so /usr/lib/libmhash.so<br>ln -s /usr/local/lib/libmhash.so.2 /usr/lib/libmhash.so.2<br>ln -s /usr/local/lib/libmhash.so.2.0.1 /usr/lib/libmhash.so.2.0.1<br><br>tar zxvf mcrypt-2.6.8.tar.gz<br>cd mcrypt-2.6.8/<br>/sbin/ldconfig<br>./configure<br>make<br>make install<br>cd ../</div><br><hr><br>　　2、编译安装MySQL 5.1.38<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/usr/sbin/groupadd mysql<br>/usr/sbin/useradd -g mysql mysql<br>tar zxvf mysql-5.1.38.tar.gz<br>cd mysql-5.1.38/<br>./configure --prefix=/usr/local/webserver/mysql/ --enable-assembler --with-extra-charsets=complex --enable-thread-safe-client --with-big-tables --with-readline --with-ssl --with-embedded-server --enable-local-infile --with-plugins=innobase<br>make &amp;&amp; make install<br>chmod +w /usr/local/webserver/mysql<br>chown -R mysql:mysql /usr/local/webserver/mysql<br>cd ../</div><br><hr><br>　　附：以下为附加步骤，如果你想在这台服务器上运行MySQL数据库，则执行以下两步。如果你只是希望让PHP支持MySQL扩展库，能够连接其他服务器上的MySQL数据库，那么，以下两步无需执行。<br><br>　　①、创建MySQL数据库存放目录<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">mkdir -p /data0/mysql/3306/data/<br>chown -R mysql:mysql /data0/mysql/</div><br><br>　　②、以mysql用户帐号的身份建立数据表：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/usr/local/webserver/mysql/bin/mysql_install_db --basedir=/usr/local/webserver/mysql --datadir=/data0/mysql/3306/data --user=mysql</div><br><br>　　③、创建my.cnf配置文件：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">vi /data0/mysql/3306/my.cnf</div><br>　　输入以下内容：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">[client]<br>default-character-set = utf8<br>port&nbsp;&nbsp;&nbsp;&nbsp;= 3306<br>socket&nbsp;&nbsp;= /tmp/mysql.sock<br><br>[mysql]<br>prompt="(\u:blog.zyan.cc:)[\d]&gt; "<br>no-auto-rehash<br><br>[mysqld]<br>#default-character-set = utf8<br>user&nbsp;&nbsp;&nbsp;&nbsp;= mysql<br>port&nbsp;&nbsp;&nbsp;&nbsp;= 3306<br>socket&nbsp;&nbsp;= /tmp/mysql.sock<br>basedir = /usr/local/webserver/mysql<br>datadir = /data0/mysql/3306/data<br>open_files_limit&nbsp;&nbsp;&nbsp;&nbsp;= 10240<br>back_log = 600<br>max_connections = 3000<br>max_connect_errors = 6000<br>table_cache = 614<br>external-locking = FALSE<br>max_allowed_packet = 32M<br>sort_buffer_size = 2M<br>join_buffer_size = 2M<br>thread_cache_size = 300<br>thread_concurrency = 8<br>query_cache_size = 32M<br>query_cache_limit = 2M<br>query_cache_min_res_unit = 2k<br>default-storage-engine = MyISAM<br>default_table_type = MyISAM<br>thread_stack = 192K<br>transaction_isolation = READ-COMMITTED<br>tmp_table_size = 246M<br>max_heap_table_size = 246M<br>long_query_time = 1<br>log_long_format<br>log-bin = /data0/mysql/3306/binlog<br>binlog_cache_size = 4M<br>binlog_format = MIXED<br>max_binlog_cache_size = 8M<br>max_binlog_size = 512M<br>expire_logs_days = 7<br>key_buffer_size = 256M<br>read_buffer_size = 1M<br>read_rnd_buffer_size = 16M<br>bulk_insert_buffer_size = 64M<br>myisam_sort_buffer_size = 128M<br>myisam_max_sort_file_size = 10G<br>myisam_max_extra_sort_file_size = 10G<br>myisam_repair_threads = 1<br>myisam_recover<br><br>skip-name-resolve<br>master-connect-retry = 10<br>slave-skip-errors = 1032,1062,126,1114,1146,1048,1396<br><br>server-id = 1<br><br>innodb_additional_mem_pool_size = 16M<br>innodb_buffer_pool_size = 2048M<br>innodb_data_file_path = ibdata1:1024M:autoextend<br>innodb_file_io_threads = 4<br>innodb_thread_concurrency = 8<br>innodb_flush_log_at_trx_commit = 2<br>innodb_log_buffer_size = 16M<br>innodb_log_file_size = 128M<br>innodb_log_files_in_group = 3<br>innodb_max_dirty_pages_pct = 90<br>innodb_lock_wait_timeout = 120<br>innodb_file_per_table = 0<br>[mysqldump]<br>quick<br>max_allowed_packet = 32M</div></div><br><br>　　④、创建管理MySQL数据库的shell脚本：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">vi /data0/mysql/3306/mysql</div><br>　　输入以下内容（这里的用户名admin和密码12345678接下来的步骤会创建）：<br><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://zyan.cc/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://zyan.cc/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://zyan.cc/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-cpp"><li class="alt"><span><span class="preprocessor">#!/bin/sh</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>mysql_port=3306&nbsp;&nbsp;</span></li><li class=""><span>mysql_username=<span class="string">"admin"</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>mysql_password=<span class="string">"12345678"</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>function_start_mysql()&nbsp;&nbsp;</span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;printf&nbsp;<span class="string">"Starting&nbsp;MySQL...\n"</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;/bin/sh&nbsp;/usr/local/webserver/mysql/bin/mysqld_safe&nbsp;--defaults-file=/data0/mysql/${mysql_port}/my.cnf&nbsp;2&gt;&amp;1&nbsp;&gt;&nbsp;/dev/null&nbsp;&amp;&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>function_stop_mysql()&nbsp;&nbsp;</span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;printf&nbsp;<span class="string">"Stoping&nbsp;MySQL...\n"</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/webserver/mysql/bin/mysqladmin&nbsp;-u&nbsp;${mysql_username}&nbsp;-p${mysql_password}&nbsp;-S&nbsp;/tmp/mysql.sock&nbsp;shutdown&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>function_restart_mysql()&nbsp;&nbsp;</span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;printf&nbsp;<span class="string">"Restarting&nbsp;MySQL...\n"</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;function_stop_mysql&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;sleep&nbsp;5&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;function_start_mysql&nbsp;&nbsp;</span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>function_kill_mysql()&nbsp;&nbsp;</span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;kill&nbsp;-9&nbsp;$(ps&nbsp;-ef&nbsp;|&nbsp;grep&nbsp;<span class="string">'bin/mysqld_safe'</span><span>&nbsp;|&nbsp;grep&nbsp;${mysql_port}&nbsp;|&nbsp;awk&nbsp;</span><span class="string">'{printf&nbsp;$2}'</span><span>)&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;kill&nbsp;-9&nbsp;$(ps&nbsp;-ef&nbsp;|&nbsp;grep&nbsp;<span class="string">'libexec/mysqld'</span><span>&nbsp;|&nbsp;grep&nbsp;${mysql_port}&nbsp;|&nbsp;awk&nbsp;</span><span class="string">'{printf&nbsp;$2}'</span><span>)&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="keyword">if</span><span>&nbsp;[&nbsp;</span><span class="string">"$1"</span><span>&nbsp;=&nbsp;</span><span class="string">"start"</span><span>&nbsp;];&nbsp;then&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;function_start_mysql&nbsp;&nbsp;</span></li><li class="alt"><span>elif&nbsp;[&nbsp;<span class="string">"$1"</span><span>&nbsp;=&nbsp;</span><span class="string">"stop"</span><span>&nbsp;];&nbsp;then&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;function_stop_mysql&nbsp;&nbsp;</span></li><li class="alt"><span>elif&nbsp;[&nbsp;<span class="string">"$1"</span><span>&nbsp;=&nbsp;</span><span class="string">"restart"</span><span>&nbsp;];&nbsp;then&nbsp;&nbsp;</span></span></li><li class=""><span>function_restart_mysql&nbsp;&nbsp;</span></li><li class="alt"><span>elif&nbsp;[&nbsp;<span class="string">"$1"</span><span>&nbsp;=&nbsp;</span><span class="string">"kill"</span><span>&nbsp;];&nbsp;then&nbsp;&nbsp;</span></span></li><li class=""><span>function_kill_mysql&nbsp;&nbsp;</span></li><li class="alt"><span><span class="keyword">else</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;printf&nbsp;<span class="string">"Usage:&nbsp;/data0/mysql/${mysql_port}/mysql&nbsp;{start|stop|restart|kill}\n"</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>fi&nbsp;&nbsp;</span></li></ol></div><textarea name="code" class="c" rows="15" cols="100" style="display: none;">#!/bin/sh

mysql_port=3306
mysql_username="admin"
mysql_password="12345678"

function_start_mysql()
{
&nbsp;&nbsp;&nbsp;&nbsp;printf "Starting MySQL...\n"
&nbsp;&nbsp;&nbsp;&nbsp;/bin/sh /usr/local/webserver/mysql/bin/mysqld_safe --defaults-file=/data0/mysql/${mysql_port}/my.cnf 2&gt;&amp;1 &gt; /dev/null &amp;
}

function_stop_mysql()
{
&nbsp;&nbsp;&nbsp;&nbsp;printf "Stoping MySQL...\n"
&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/webserver/mysql/bin/mysqladmin -u ${mysql_username} -p${mysql_password} -S /tmp/mysql.sock shutdown
}

function_restart_mysql()
{
&nbsp;&nbsp;&nbsp;&nbsp;printf "Restarting MySQL...\n"
&nbsp;&nbsp;&nbsp;&nbsp;function_stop_mysql
&nbsp;&nbsp;&nbsp;&nbsp;sleep 5
&nbsp;&nbsp;&nbsp;&nbsp;function_start_mysql
}

function_kill_mysql()
{
&nbsp;&nbsp;&nbsp;&nbsp;kill -9 $(ps -ef | grep 'bin/mysqld_safe' | grep ${mysql_port} | awk '{printf $2}')
&nbsp;&nbsp;&nbsp;&nbsp;kill -9 $(ps -ef | grep 'libexec/mysqld' | grep ${mysql_port} | awk '{printf $2}')
}

if [ "$1" = "start" ]; then
&nbsp;&nbsp;&nbsp;&nbsp;function_start_mysql
elif [ "$1" = "stop" ]; then
&nbsp;&nbsp;&nbsp;&nbsp;function_stop_mysql
elif [ "$1" = "restart" ]; then
function_restart_mysql
elif [ "$1" = "kill" ]; then
function_kill_mysql
else
&nbsp;&nbsp;&nbsp;&nbsp;printf "Usage: /data0/mysql/${mysql_port}/mysql {start|stop|restart|kill}\n"
fi</textarea><br>　　⑤、赋予shell脚本可执行权限：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">chmod +x /data0/mysql/3306/mysql</div><br><br>　　⑥、启动MySQL：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/data0/mysql/3306/mysql start</div><br><br>　　⑦、通过命令行登录管理MySQL服务器（提示输入密码时直接回车）：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/usr/local/webserver/mysql/bin/mysql -u root -p -S /tmp/mysql.sock</div><br><br>　　⑧、输入以下SQL语句，创建一个具有root权限的用户（admin）和密码（12345678）：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">GRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost' IDENTIFIED BY '12345678';<br>GRANT ALL PRIVILEGES ON *.* TO 'admin'@'127.0.0.1' IDENTIFIED BY '12345678';</div><br><br>　　⑨、（可选）停止MySQL：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/data0/mysql/3306/mysql stop</div><br><hr><br>　　3、编译安装PHP（FastCGI模式）<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">tar zxvf php-5.2.10.tar.gz<br>gzip -cd php-5.2.10-fpm-0.5.11.diff.gz | patch -d php-5.2.10 -p1<br>cd php-5.2.10/<br>./configure --prefix=/usr/local/webserver/php --with-config-file-path=/usr/local/webserver/php/etc --with-mysql=/usr/local/webserver/mysql --with-mysqli=/usr/local/webserver/mysql/bin/mysql_config --with-iconv-dir=/usr/local --with-freetype-dir --with-jpeg-dir --with-png-dir --with-zlib --with-libxml-dir=/usr --enable-xml --disable-rpath --enable-discard-path --enable-safe-mode --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --with-curl --with-curlwrappers --enable-mbregex --enable-fastcgi --enable-fpm --enable-force-cgi-redirect --enable-mbstring --with-mcrypt --with-gd --enable-gd-native-ttf --with-openssl --with-mhash --enable-pcntl --enable-sockets --with-ldap --with-ldap-sasl --with-xmlrpc --enable-zip --enable-soap --without-pear<br>make ZEND_EXTRA_LIBS='-liconv'<br>make install<br>cp php.ini-dist /usr/local/webserver/php/etc/php.ini<br>cd ../<br>curl <a href="http://pear.php.net/go-pear" target="_blank">http://pear.php.net/go-pear</a> | /usr/local/webserver/php/bin/php</div><br><hr><br>　　4、编译安装PHP5扩展模块<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">tar zxvf memcache-2.2.5.tgz<br>cd memcache-2.2.5/<br>/usr/local/webserver/php/bin/phpize<br>./configure --with-php-config=/usr/local/webserver/php/bin/php-config<br>make<br>make install<br>cd ../<br><br>tar jxvf eaccelerator-0.9.5.3.tar.bz2<br>cd eaccelerator-0.9.5.3/<br>/usr/local/webserver/php/bin/phpize<br>./configure --enable-eaccelerator=shared --with-php-config=/usr/local/webserver/php/bin/php-config<br>make<br>make install<br>cd ../<br><br>tar zxvf PDO_MYSQL-1.0.2.tgz<br>cd PDO_MYSQL-1.0.2/<br>/usr/local/webserver/php/bin/phpize<br>./configure --with-php-config=/usr/local/webserver/php/bin/php-config --with-pdo-mysql=/usr/local/webserver/mysql<br>make<br>make install<br>cd ../<br><br>tar zxvf ImageMagick.tar.gz<br>cd ImageMagick-6.5.1-2/<br>./configure<br>make<br>make install<br>cd ../<br><br>tar zxvf imagick-2.2.2.tgz<br>cd imagick-2.2.2/<br>/usr/local/webserver/php/bin/phpize<br>./configure --with-php-config=/usr/local/webserver/php/bin/php-config<br>make<br>make install<br>cd ../<br></div><br><br>　　5、修改php.ini文件<br>　　<strong>手工修改：</strong>查找/usr/local/webserver/php/etc/php.ini中的extension_dir = "./"<br>　　修改为extension_dir = "/usr/local/webserver/php/lib/php/extensions/no-debug-non-zts-20060613/"<br>　　并在此行后增加以下几行，然后保存：<br>　　extension = "memcache.so"<br>　　extension = "pdo_mysql.so"<br>　　extension = "imagick.so"<br><br>　　再查找output_buffering = Off<br>　　修改为output_buffering = On<br><br>　　<strong>自动修改：</strong>若嫌手工修改麻烦，可执行以下shell命令，自动完成对php.ini文件的修改：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">sed -i 's#extension_dir = "./"#extension_dir = "/usr/local/webserver/php/lib/php/extensions/no-debug-non-zts-20060613/"\nextension = "memcache.so"\nextension = "pdo_mysql.so"\nextension = "imagick.so"\n#' /usr/local/webserver/php/etc/php.ini<br>sed -i 's#output_buffering = Off#output_buffering = On#' /usr/local/webserver/php/etc/php.ini<br>sed -i "s#; always_populate_raw_post_data = On#always_populate_raw_post_data = On#g" /usr/local/webserver/php/etc/php.ini</div><br><br>　　6、配置eAccelerator加速PHP：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">mkdir -p /usr/local/webserver/eaccelerator_cache<br>vi /usr/local/webserver/php/etc/php.ini</div><br>　　按shift+g键跳到配置文件的最末尾，加上以下配置信息：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">[eaccelerator]<br>zend_extension="/usr/local/webserver/php/lib/php/extensions/no-debug-non-zts-20060613/eaccelerator.so"<br>eaccelerator.shm_size="64"<br>eaccelerator.cache_dir="/usr/local/webserver/eaccelerator_cache"<br>eaccelerator.enable="1"<br>eaccelerator.optimizer="1"<br>eaccelerator.check_mtime="1"<br>eaccelerator.debug="0"<br>eaccelerator.filter=""<br>eaccelerator.shm_max="0"<br>eaccelerator.shm_ttl="3600"<br>eaccelerator.shm_prune_period="3600"<br>eaccelerator.shm_only="0"<br>eaccelerator.compress="1"<br>eaccelerator.compress_level="9"</div></div><br><br><hr><br>　　7、创建www用户和组，以及供blog.zyan.cc和<a href="http://www.zyan.cc/" target="_blank">www.zyan.cc</a>两个虚拟主机使用的目录：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/usr/sbin/groupadd www<br>/usr/sbin/useradd -g www www<br>mkdir -p /data0/htdocs/blog<br>chmod +w /data0/htdocs/blog<br>chown -R www:www /data0/htdocs/blog<br>mkdir -p /data0/htdocs/www<br>chmod +w /data0/htdocs/www<br>chown -R www:www /data0/htdocs/www</div><br><br>　　8、创建php-fpm配置文件（php-fpm是为PHP打的一个FastCGI管理补丁，可以平滑变更php.ini配置而无需重启php-cgi）：<br>　　在/usr/local/webserver/php/etc/目录中创建php-fpm.conf文件：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">rm -f /usr/local/webserver/php/etc/php-fpm.conf<br>vi /usr/local/webserver/php/etc/php-fpm.conf</div><br>　　输入以下内容（如果您安装 Nginx + PHP 用于程序调试，请将以下的&lt;value name="display_errors"&gt;0&lt;/value&gt;改为&lt;value name="display_errors"&gt;1&lt;/value&gt;，以便显示PHP错误信息，否则，Nginx 会报状态为500的空白错误页）：<div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://zyan.cc/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://zyan.cc/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://zyan.cc/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-xml"><li class="alt"><span><span class="tag">&lt;?</span><span class="tag-name">xml</span><span>&nbsp;</span><span class="attribute">version</span><span>=</span><span class="attribute-value">"1.0"</span><span>&nbsp;</span><span class="tag">?&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="tag">&lt;</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;All&nbsp;relative&nbsp;paths&nbsp;in&nbsp;this&nbsp;config&nbsp;are&nbsp;relative&nbsp;to&nbsp;php's&nbsp;install&nbsp;prefix&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">section</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"global_options"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;Pid&nbsp;file&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"pid_file"</span><span class="tag">&gt;</span><span>/usr/local/webserver/php/logs/php-fpm.pid</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Error&nbsp;log&nbsp;file&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"error_log"</span><span class="tag">&gt;</span><span>/usr/local/webserver/php/logs/php-fpm.log</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;Log&nbsp;level&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"log_level"</span><span class="tag">&gt;</span><span>notice</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;this&nbsp;amount&nbsp;of&nbsp;php&nbsp;processes&nbsp;exited&nbsp;with&nbsp;SIGSEGV&nbsp;or&nbsp;SIGBUS&nbsp;...&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"emergency_restart_threshold"</span><span class="tag">&gt;</span><span>10</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;in&nbsp;a&nbsp;less&nbsp;than&nbsp;this&nbsp;interval&nbsp;of&nbsp;time,&nbsp;a&nbsp;graceful&nbsp;restart&nbsp;will&nbsp;be&nbsp;initiated.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Useful&nbsp;to&nbsp;work&nbsp;around&nbsp;accidental&nbsp;curruptions&nbsp;in&nbsp;accelerator's&nbsp;shared&nbsp;memory.&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"emergency_restart_interval"</span><span class="tag">&gt;</span><span>1m</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;Time&nbsp;limit&nbsp;on&nbsp;waiting&nbsp;child's&nbsp;reaction&nbsp;on&nbsp;signals&nbsp;from&nbsp;master&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"process_control_timeout"</span><span class="tag">&gt;</span><span>5s</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;to&nbsp;'no'&nbsp;to&nbsp;debug&nbsp;fpm&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"daemonize"</span><span class="tag">&gt;</span><span>yes</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">section</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">workers</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">section</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"pool"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;of&nbsp;pool.&nbsp;Used&nbsp;in&nbsp;logs&nbsp;and&nbsp;stats.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"name"</span><span class="tag">&gt;</span><span>default</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Address&nbsp;to&nbsp;accept&nbsp;fastcgi&nbsp;requests&nbsp;on.&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Valid&nbsp;syntax&nbsp;is&nbsp;'ip.ad.re.ss:port'&nbsp;or&nbsp;just&nbsp;'port'&nbsp;or&nbsp;'/path/to/unix/socket'&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"listen_address"</span><span class="tag">&gt;</span><span>127.0.0.1:9000</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"listen_options"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;listen(2)&nbsp;backlog&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"backlog"</span><span class="tag">&gt;</span><span>-1</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;permissions&nbsp;for&nbsp;unix&nbsp;socket,&nbsp;if&nbsp;one&nbsp;used.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;Linux&nbsp;read/write&nbsp;permissions&nbsp;must&nbsp;be&nbsp;set&nbsp;in&nbsp;order&nbsp;to&nbsp;allow&nbsp;connections&nbsp;from&nbsp;web&nbsp;server.&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Many&nbsp;BSD-derrived&nbsp;systems&nbsp;allow&nbsp;connections&nbsp;regardless&nbsp;of&nbsp;permissions.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"owner"</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"group"</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"mode"</span><span class="tag">&gt;</span><span>0666</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Additional&nbsp;php.ini&nbsp;defines,&nbsp;specific&nbsp;to&nbsp;this&nbsp;pool&nbsp;of&nbsp;workers.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"php_defines"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"sendmail_path"</span><span class="tag">&gt;</span><span>/usr/sbin/sendmail&nbsp;-t&nbsp;-i</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"display_errors"</span><span class="tag">&gt;</span><span>1</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unix&nbsp;user&nbsp;of&nbsp;processes&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"user"</span><span class="tag">&gt;</span><span>www</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unix&nbsp;group&nbsp;of&nbsp;processes&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"group"</span><span class="tag">&gt;</span><span>www</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;manager&nbsp;settings&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"pm"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets&nbsp;style&nbsp;of&nbsp;controling&nbsp;worker&nbsp;process&nbsp;count.&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Valid&nbsp;values&nbsp;are&nbsp;'static'&nbsp;and&nbsp;'apache-like'&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"style"</span><span class="tag">&gt;</span><span>static</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets&nbsp;the&nbsp;limit&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;simultaneous&nbsp;requests&nbsp;that&nbsp;will&nbsp;be&nbsp;served.&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent&nbsp;to&nbsp;Apache&nbsp;MaxClients&nbsp;directive.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent&nbsp;to&nbsp;PHP_FCGI_CHILDREN&nbsp;environment&nbsp;in&nbsp;original&nbsp;php.fcgi&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used&nbsp;with&nbsp;any&nbsp;pm_style.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"max_children"</span><span class="tag">&gt;</span><span>128</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Settings&nbsp;group&nbsp;for&nbsp;'apache-like'&nbsp;pm&nbsp;style&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"apache_like"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets&nbsp;the&nbsp;number&nbsp;of&nbsp;server&nbsp;processes&nbsp;created&nbsp;on&nbsp;startup.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used&nbsp;only&nbsp;when&nbsp;'apache-like'&nbsp;pm_style&nbsp;is&nbsp;selected&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"StartServers"</span><span class="tag">&gt;</span><span>20</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets&nbsp;the&nbsp;desired&nbsp;minimum&nbsp;number&nbsp;of&nbsp;idle&nbsp;server&nbsp;processes.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used&nbsp;only&nbsp;when&nbsp;'apache-like'&nbsp;pm_style&nbsp;is&nbsp;selected&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"MinSpareServers"</span><span class="tag">&gt;</span><span>5</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets&nbsp;the&nbsp;desired&nbsp;maximum&nbsp;number&nbsp;of&nbsp;idle&nbsp;server&nbsp;processes.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used&nbsp;only&nbsp;when&nbsp;'apache-like'&nbsp;pm_style&nbsp;is&nbsp;selected&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"MaxSpareServers"</span><span class="tag">&gt;</span><span>35</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;timeout&nbsp;(in&nbsp;seconds)&nbsp;for&nbsp;serving&nbsp;a&nbsp;single&nbsp;request&nbsp;after&nbsp;which&nbsp;the&nbsp;worker&nbsp;process&nbsp;will&nbsp;be&nbsp;terminated&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should&nbsp;be&nbsp;used&nbsp;when&nbsp;'max_execution_time'&nbsp;ini&nbsp;option&nbsp;does&nbsp;not&nbsp;stop&nbsp;script&nbsp;execution&nbsp;for&nbsp;some&nbsp;reason&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'0s'&nbsp;means&nbsp;'off'&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"request_terminate_timeout"</span><span class="tag">&gt;</span><span>0s</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;timeout&nbsp;(in&nbsp;seconds)&nbsp;for&nbsp;serving&nbsp;of&nbsp;single&nbsp;request&nbsp;after&nbsp;which&nbsp;a&nbsp;php&nbsp;backtrace&nbsp;will&nbsp;be&nbsp;dumped&nbsp;to&nbsp;slow.log&nbsp;file&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'0s'&nbsp;means&nbsp;'off'&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"request_slowlog_timeout"</span><span class="tag">&gt;</span><span>0s</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;log&nbsp;file&nbsp;for&nbsp;slow&nbsp;requests&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"slowlog"</span><span class="tag">&gt;</span><span>logs/slow.log</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;open&nbsp;file&nbsp;desc&nbsp;rlimit&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"rlimit_files"</span><span class="tag">&gt;</span><span>65535</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;max&nbsp;core&nbsp;size&nbsp;rlimit&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"rlimit_core"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chroot&nbsp;to&nbsp;this&nbsp;directory&nbsp;at&nbsp;the&nbsp;start,&nbsp;absolute&nbsp;path&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"chroot"</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chdir&nbsp;to&nbsp;this&nbsp;directory&nbsp;at&nbsp;the&nbsp;start,&nbsp;absolute&nbsp;path&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"chdir"</span><span class="tag">&gt;</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redirect&nbsp;workers'&nbsp;stdout&nbsp;and&nbsp;stderr&nbsp;into&nbsp;main&nbsp;error&nbsp;log.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;not&nbsp;set,&nbsp;they&nbsp;will&nbsp;be&nbsp;redirected&nbsp;to&nbsp;/dev/null,&nbsp;according&nbsp;to&nbsp;FastCGI&nbsp;specs&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"catch_workers_output"</span><span class="tag">&gt;</span><span>yes</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;How&nbsp;much&nbsp;requests&nbsp;each&nbsp;process&nbsp;should&nbsp;execute&nbsp;before&nbsp;respawn.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Useful&nbsp;to&nbsp;work&nbsp;around&nbsp;memory&nbsp;leaks&nbsp;in&nbsp;3rd&nbsp;party&nbsp;libraries.&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;endless&nbsp;request&nbsp;processing&nbsp;please&nbsp;specify&nbsp;0&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent&nbsp;to&nbsp;PHP_FCGI_MAX_REQUESTS&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"max_requests"</span><span class="tag">&gt;</span><span>102400</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comma&nbsp;separated&nbsp;list&nbsp;of&nbsp;ipv4&nbsp;addresses&nbsp;of&nbsp;FastCGI&nbsp;clients&nbsp;that&nbsp;allowed&nbsp;to&nbsp;connect.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent&nbsp;to&nbsp;FCGI_WEB_SERVER_ADDRS&nbsp;environment&nbsp;in&nbsp;original&nbsp;php.fcgi&nbsp;(5.2.2+)&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makes&nbsp;sense&nbsp;only&nbsp;with&nbsp;AF_INET&nbsp;listening&nbsp;socket.&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"allowed_clients"</span><span class="tag">&gt;</span><span>127.0.0.1</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pass&nbsp;environment&nbsp;variables&nbsp;like&nbsp;LD_LIBRARY_PATH&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;All&nbsp;$VARIABLEs&nbsp;are&nbsp;taken&nbsp;from&nbsp;current&nbsp;environment&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"environment"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"HOSTNAME"</span><span class="tag">&gt;</span><span>$HOSTNAME</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"PATH"</span><span class="tag">&gt;</span><span>/usr/local/bin:/usr/bin:/bin</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"TMP"</span><span class="tag">&gt;</span><span>/tmp</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"TMPDIR"</span><span class="tag">&gt;</span><span>/tmp</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"TEMP"</span><span class="tag">&gt;</span><span>/tmp</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"OSTYPE"</span><span class="tag">&gt;</span><span>$OSTYPE</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"MACHTYPE"</span><span class="tag">&gt;</span><span>$MACHTYPE</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">value</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"MALLOC_CHECK_"</span><span class="tag">&gt;</span><span>2</span><span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">section</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">workers</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span><span class="tag">&lt;/</span><span class="tag-name">configuration</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li></ol></div><textarea name="code" class="xml" rows="15" cols="100" style="display: none;">&lt;?xml version="1.0" ?&gt;
&lt;configuration&gt;

&nbsp;&nbsp;All relative paths in this config are relative to php's install prefix

&nbsp;&nbsp;&lt;section name="global_options"&gt;

&nbsp;&nbsp;&nbsp;&nbsp;Pid file
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="pid_file"&gt;/usr/local/webserver/php/logs/php-fpm.pid&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;Error log file
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="error_log"&gt;/usr/local/webserver/php/logs/php-fpm.log&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;Log level
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="log_level"&gt;notice&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;When this amount of php processes exited with SIGSEGV or SIGBUS ...
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="emergency_restart_threshold"&gt;10&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;... in a less than this interval of time, a graceful restart will be initiated.
&nbsp;&nbsp;&nbsp;&nbsp;Useful to work around accidental curruptions in accelerator's shared memory.
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="emergency_restart_interval"&gt;1m&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;Time limit on waiting child's reaction on signals from master
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="process_control_timeout"&gt;5s&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;Set to 'no' to debug fpm
&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="daemonize"&gt;yes&lt;/value&gt;

&nbsp;&nbsp;&lt;/section&gt;

&nbsp;&nbsp;&lt;workers&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&lt;section name="pool"&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of pool. Used in logs and stats.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="name"&gt;default&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Address to accept fastcgi requests on.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Valid syntax is 'ip.ad.re.ss:port' or just 'port' or '/path/to/unix/socket'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="listen_address"&gt;127.0.0.1:9000&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="listen_options"&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set listen(2) backlog
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="backlog"&gt;-1&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set permissions for unix socket, if one used.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In Linux read/write permissions must be set in order to allow connections from web server.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Many BSD-derrived systems allow connections regardless of permissions.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="owner"&gt;&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="group"&gt;&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="mode"&gt;0666&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Additional php.ini defines, specific to this pool of workers.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="php_defines"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="sendmail_path"&gt;/usr/sbin/sendmail -t -i&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="display_errors"&gt;1&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unix user of processes
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="user"&gt;www&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unix group of processes
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="group"&gt;www&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process manager settings
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="pm"&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets style of controling worker process count.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Valid values are 'static' and 'apache-like'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="style"&gt;static&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the limit on the number of simultaneous requests that will be served.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent to Apache MaxClients directive.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent to PHP_FCGI_CHILDREN environment in original php.fcgi
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used with any pm_style.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="max_children"&gt;128&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Settings group for 'apache-like' pm style
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="apache_like"&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the number of server processes created on startup.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used only when 'apache-like' pm_style is selected
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="StartServers"&gt;20&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the desired minimum number of idle server processes.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used only when 'apache-like' pm_style is selected
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="MinSpareServers"&gt;5&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the desired maximum number of idle server processes.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used only when 'apache-like' pm_style is selected
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="MaxSpareServers"&gt;35&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The timeout (in seconds) for serving a single request after which the worker process will be terminated
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should be used when 'max_execution_time' ini option does not stop script execution for some reason
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'0s' means 'off'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="request_terminate_timeout"&gt;0s&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The timeout (in seconds) for serving of single request after which a php backtrace will be dumped to slow.log file
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'0s' means 'off'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="request_slowlog_timeout"&gt;0s&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The log file for slow requests
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="slowlog"&gt;logs/slow.log&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set open file desc rlimit
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="rlimit_files"&gt;65535&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set max core size rlimit
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="rlimit_core"&gt;0&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chroot to this directory at the start, absolute path
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="chroot"&gt;&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chdir to this directory at the start, absolute path
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="chdir"&gt;&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redirect workers' stdout and stderr into main error log.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If not set, they will be redirected to /dev/null, according to FastCGI specs
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="catch_workers_output"&gt;yes&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;How much requests each process should execute before respawn.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Useful to work around memory leaks in 3rd party libraries.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For endless request processing please specify 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent to PHP_FCGI_MAX_REQUESTS
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="max_requests"&gt;102400&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comma separated list of ipv4 addresses of FastCGI clients that allowed to connect.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Equivalent to FCGI_WEB_SERVER_ADDRS environment in original php.fcgi (5.2.2+)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makes sense only with AF_INET listening socket.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="allowed_clients"&gt;127.0.0.1&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pass environment variables like LD_LIBRARY_PATH
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;All $VARIABLEs are taken from current environment
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="environment"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="HOSTNAME"&gt;$HOSTNAME&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="PATH"&gt;/usr/local/bin:/usr/bin:/bin&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="TMP"&gt;/tmp&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="TMPDIR"&gt;/tmp&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="TEMP"&gt;/tmp&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="OSTYPE"&gt;$OSTYPE&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="MACHTYPE"&gt;$MACHTYPE&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;value name="MALLOC_CHECK_"&gt;2&lt;/value&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/value&gt;

&nbsp;&nbsp;&nbsp;&nbsp;&lt;/section&gt;

&nbsp;&nbsp;&lt;/workers&gt;

&lt;/configuration&gt;</textarea>　　9、启动php-cgi进程，监听127.0.0.1的9000端口，进程数为200（如果服务器内存小于3GB，可以只开启64个进程），用户为www：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">ulimit -SHn 65535<br>/usr/local/webserver/php/sbin/php-fpm start</div><br>　　注：/usr/local/webserver/php/sbin/php-fpm还有其他参数，包括：start|stop|quit|restart|reload|logrotate，修改php.ini后不重启php-cgi，重新加载配置文件使用reload。<br><br><hr><br>　　<strong>三、安装Nginx 0.8.15</strong><br>　　1、安装Nginx所需的pcre库：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">tar zxvf pcre-7.9.tar.gz<br>cd pcre-7.9/<br>./configure<br>make &amp;&amp; make install<br>cd ../</div><br><br>　　2、安装Nginx<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">tar zxvf nginx-0.8.15.tar.gz<br>cd nginx-0.8.15/<br>./configure --user=www --group=www --prefix=/usr/local/webserver/nginx --with-http_stub_status_module --with-http_ssl_module<br>make &amp;&amp; make install<br>cd ../</div><br><br>　　3、创建Nginx日志目录<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">mkdir -p /data1/logs<br>chmod +w /data1/logs<br>chown -R www:www /data1/logs</div><br><br>　　4、创建Nginx配置文件<br>　　①、在/usr/local/webserver/nginx/conf/目录中创建nginx.conf文件：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">rm -f /usr/local/webserver/nginx/conf/nginx.conf<br>vi /usr/local/webserver/nginx/conf/nginx.conf</div><br>　　输入以下内容：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">user&nbsp;&nbsp;www www;<br><br>worker_processes 8;<br><br>error_log&nbsp;&nbsp;/data1/logs/nginx_error.log&nbsp;&nbsp;crit;<br><br>pid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/local/webserver/nginx/nginx.pid;<br><br>#Specifies the value for maximum file descriptors that can be opened by this process. <br>worker_rlimit_nofile 65535;<br><br>events <br>{<br>&nbsp;&nbsp;use epoll;<br>&nbsp;&nbsp;worker_connections 65535;<br>}<br><br>http <br>{<br>&nbsp;&nbsp;include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mime.types;<br>&nbsp;&nbsp;default_type&nbsp;&nbsp;application/octet-stream;<br><br>&nbsp;&nbsp;#charset&nbsp;&nbsp;gb2312;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;server_names_hash_bucket_size 128;<br>&nbsp;&nbsp;client_header_buffer_size 32k;<br>&nbsp;&nbsp;large_client_header_buffers 4 32k;<br>&nbsp;&nbsp;client_max_body_size 8m;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;sendfile on;<br>&nbsp;&nbsp;tcp_nopush&nbsp;&nbsp;&nbsp;&nbsp; on;<br><br>&nbsp;&nbsp;keepalive_timeout 60;<br><br>&nbsp;&nbsp;tcp_nodelay on;<br><br>&nbsp;&nbsp;fastcgi_connect_timeout 300;<br>&nbsp;&nbsp;fastcgi_send_timeout 300;<br>&nbsp;&nbsp;fastcgi_read_timeout 300;<br>&nbsp;&nbsp;fastcgi_buffer_size 64k;<br>&nbsp;&nbsp;fastcgi_buffers 4 64k;<br>&nbsp;&nbsp;fastcgi_busy_buffers_size 128k;<br>&nbsp;&nbsp;fastcgi_temp_file_write_size 128k;<br><br>&nbsp;&nbsp;gzip on;<br>&nbsp;&nbsp;gzip_min_length&nbsp;&nbsp;1k;<br>&nbsp;&nbsp;gzip_buffers&nbsp;&nbsp;&nbsp;&nbsp; 4 16k;<br>&nbsp;&nbsp;gzip_http_version 1.0;<br>&nbsp;&nbsp;gzip_comp_level 2;<br>&nbsp;&nbsp;gzip_types&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text/plain application/x-javascript text/css application/xml;<br>&nbsp;&nbsp;gzip_vary on;<br><br>&nbsp;&nbsp;#limit_zone&nbsp;&nbsp;crawler&nbsp;&nbsp;$binary_remote_addr&nbsp;&nbsp;10m;<br><br>&nbsp;&nbsp;server<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 80;<br>&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;blog.zyan.cc;<br>&nbsp;&nbsp;&nbsp;&nbsp;index index.html index.htm index.php;<br>&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;/data0/htdocs/blog;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;#limit_conn&nbsp;&nbsp; crawler&nbsp;&nbsp;20;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;location ~ .*\.(php|php5)?$<br>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#fastcgi_pass&nbsp;&nbsp;unix:/tmp/php-cgi.sock;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;127.0.0.1:9000;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index index.php;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include fcgi.conf;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expires&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30d;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;location ~ .*\.(js|css)?$<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expires&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1h;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;log_format&nbsp;&nbsp;access&nbsp;&nbsp;'$remote_addr - $remote_user [$time_local] "$request" '<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'$status $body_bytes_sent "$http_referer" '<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'"$http_user_agent" $http_x_forwarded_for';<br>&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp;/data1/logs/access.log&nbsp;&nbsp;access;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;server<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 80;<br>&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;<a href="http://www.zyan.cc%3B/" target="_blank">www.zyan.cc;</a><br>&nbsp;&nbsp;&nbsp;&nbsp;index index.html index.htm index.php;<br>&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;/data0/htdocs/www;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;location ~ .*\.(php|php5)?$<br>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#fastcgi_pass&nbsp;&nbsp;unix:/tmp/php-cgi.sock;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;127.0.0.1:9000;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index index.php;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include fcgi.conf;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;log_format&nbsp;&nbsp;wwwlogs&nbsp;&nbsp;'$remote_addr - $remote_user [$time_local] "$request" '<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '$status $body_bytes_sent "$http_referer" '<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '"$http_user_agent" $http_x_forwarded_for';<br>&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp;/data1/logs/wwwlogs.log&nbsp;&nbsp;wwwlogs;<br>&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;server<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;80;<br>&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;status.blog.zyan.cc;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;location / {<br>&nbsp;&nbsp;&nbsp;&nbsp;stub_status on;<br>&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp; off;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>}</div></div><br><br>　　②、在/usr/local/webserver/nginx/conf/目录中创建fcgi.conf文件：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">vi /usr/local/webserver/nginx/conf/fcgi.conf</div><br>　　输入以下内容：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">fastcgi_param&nbsp;&nbsp;GATEWAY_INTERFACE&nbsp;&nbsp;CGI/1.1;<br>fastcgi_param&nbsp;&nbsp;SERVER_SOFTWARE&nbsp;&nbsp;&nbsp;&nbsp;nginx;<br><br>fastcgi_param&nbsp;&nbsp;QUERY_STRING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $query_string;<br>fastcgi_param&nbsp;&nbsp;REQUEST_METHOD&nbsp;&nbsp;&nbsp;&nbsp; $request_method;<br>fastcgi_param&nbsp;&nbsp;CONTENT_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $content_type;<br>fastcgi_param&nbsp;&nbsp;CONTENT_LENGTH&nbsp;&nbsp;&nbsp;&nbsp; $content_length;<br><br>fastcgi_param&nbsp;&nbsp;SCRIPT_FILENAME&nbsp;&nbsp;&nbsp;&nbsp;$document_root$fastcgi_script_name;<br>fastcgi_param&nbsp;&nbsp;SCRIPT_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$fastcgi_script_name;<br>fastcgi_param&nbsp;&nbsp;REQUEST_URI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$request_uri;<br>fastcgi_param&nbsp;&nbsp;DOCUMENT_URI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $document_uri;<br>fastcgi_param&nbsp;&nbsp;DOCUMENT_ROOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$document_root;<br>fastcgi_param&nbsp;&nbsp;SERVER_PROTOCOL&nbsp;&nbsp;&nbsp;&nbsp;$server_protocol;<br><br>fastcgi_param&nbsp;&nbsp;REMOTE_ADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$remote_addr;<br>fastcgi_param&nbsp;&nbsp;REMOTE_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$remote_port;<br>fastcgi_param&nbsp;&nbsp;SERVER_ADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$server_addr;<br>fastcgi_param&nbsp;&nbsp;SERVER_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$server_port;<br>fastcgi_param&nbsp;&nbsp;SERVER_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$server_name;<br><br># PHP only, required if PHP was built with --enable-force-cgi-redirect<br>fastcgi_param&nbsp;&nbsp;REDIRECT_STATUS&nbsp;&nbsp;&nbsp;&nbsp;200;</div></div><br><br>　　5、启动Nginx<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">ulimit -SHn 65535<br>/usr/local/webserver/nginx/sbin/nginx</div><br><hr><br>　　<strong>四、配置开机自动启动Nginx + PHP</strong><br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">vi /etc/rc.local</div><br>　　在末尾增加以下内容：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">ulimit -SHn 65535<br>/usr/local/webserver/php/sbin/php-fpm start<br>/usr/local/webserver/nginx/sbin/nginx</div></div><br><hr><br>　　<strong>五、优化Linux内核参数</strong><br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">vi /etc/sysctl.conf</div><br>　　在末尾增加以下内容：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content"># Add<br>net.ipv4.tcp_max_syn_backlog = 65536<br>net.core.netdev_max_backlog =&nbsp;&nbsp;32768<br>net.core.somaxconn = 32768<br><br>net.core.wmem_default = 8388608<br>net.core.rmem_default = 8388608<br>net.core.rmem_max = 16777216<br>net.core.wmem_max = 16777216<br><br>net.ipv4.tcp_timestamps = 0<br>net.ipv4.tcp_synack_retries = 2<br>net.ipv4.tcp_syn_retries = 2<br><br>net.ipv4.tcp_tw_recycle = 1<br>#net.ipv4.tcp_tw_len = 1<br>net.ipv4.tcp_tw_reuse = 1<br><br>net.ipv4.tcp_mem = 94500000 915000000 927000000<br>net.ipv4.tcp_max_orphans = 3276800<br><br>#net.ipv4.tcp_fin_timeout = 30<br>#net.ipv4.tcp_keepalive_time = 120<br>net.ipv4.ip_local_port_range = 1024&nbsp;&nbsp;65535</div></div><br><br>　　使配置立即生效：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/sbin/sysctl -p</div><br><hr><br>　　<strong>六、在不停止Nginx服务的情况下平滑变更Nginx配置</strong><br>　　1、修改/usr/local/webserver/nginx/conf/nginx.conf配置文件后，请执行以下命令检查配置文件是否正确：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">/usr/local/webserver/nginx/sbin/nginx -t</div><br>　　如果屏幕显示以下两行信息，说明配置文件正确：<br>　　<span style="color: #008000;">the configuration file /usr/local/webserver/nginx/conf/nginx.conf syntax is ok<br>　　the configuration file /usr/local/webserver/nginx/conf/nginx.conf was tested successfully</span><br><br>　　2、这时，输入以下命令查看Nginx主进程号：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">ps -ef | grep "nginx: master process" | grep -v "grep" | awk -F ' ' '{print $2}'</div><br>　　屏幕显示的即为Nginx主进程号，例如：<br>　　<span style="color: #008000;">6302</span><br>　　这时，执行以下命令即可使修改过的Nginx配置文件生效：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">kill -HUP 6302</div><br>　　或者无需这么麻烦，找到Nginx的Pid文件：<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">kill -HUP `cat /usr/local/webserver/nginx/nginx.pid`</div><br><hr><br>　　<strong>七、编写每天定时切割Nginx日志的脚本</strong><br>　　1、创建脚本/usr/local/webserver/nginx/sbin/cut_nginx_log.sh<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">vi /usr/local/webserver/nginx/sbin/cut_nginx_log.sh</div><br>　　输入以下内容：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">#!/bin/bash<br># This script run at 00:00<br><br># The Nginx logs path<br>logs_path="/usr/local/webserver/nginx/logs/"<br><br>mkdir -p ${logs_path}$(date -d "yesterday" +"%Y")/$(date -d "yesterday" +"%m")/<br>mv ${logs_path}access.log ${logs_path}$(date -d "yesterday" +"%Y")/$(date -d "yesterday" +"%m")/access_$(date -d "yesterday" +"%Y%m%d").log<br>kill -USR1 `cat /usr/local/webserver/nginx/nginx.pid`</div></div><br><br>　　2、设置crontab，每天凌晨00:00切割nginx访问日志<br><div style="border-left: 0px dashed #D6C094; margin: 5px; padding: 3px; margin-bottom:0px; border: 1px dashed #00a0c6; background-color: #ffffff;">crontab -e</div><br>　　输入以下内容：<br><div class="quote"><div class="quote-title">引用</div><div class="quote-content">00 00 * * * /bin/bash&nbsp;&nbsp;/usr/local/webserver/nginx/sbin/cut_nginx_log.sh</div></div><br><br><hr><br>　　本文若有小的修改，会第一时间在以下网址发布：<br>　　<a href="http://blog.zyan.cc/nginx_php_v5/" target="_blank">http://blog.zyan.cc/nginx_php_v5/</a><br><br><hr><br>　　<strong>附：文章修改历史</strong><br><br>　　● [2009年05月06日] [Version 5.0] 在4.14版本的基础上重新撰写本文，支持PHP 5.2.9，增加MySQL配置过程<br><br>　　● [2009年05月10日] [Version 5.1] 增加压力测试方法。<br><br>　　● [2009年05月20日] [Version 5.2] Nginx升级到0.7.58版本；PHP编译选项增加：--with-xmlrpc --enable-zip。<br><br>　　● [2009年06月10日] [Version 5.3] Nginx升级到0.7.59版本；MySQL升级到5.1.35版本。<br><br>　　● [2009年06月26日] [Version 5.4] Nginx升级到0.7.61版本；PHP升级到5.2.10版本；PCRE升级到7.9版本；PHP增加soap扩展；关闭了PHP的PEAR；优化sysctl配置。<br><br>　　● [2009年09月18日] [Version 5.5] Nginx升级到0.8.15版本；PCRE升级到7.9版本；解决PHP 5.2.10 的PEAR问题。<br><br>　　（全文完） 
<center>
<br>
<script type="text/javascript"><!--
google_ad_client = "pub-5999575502865975";
/* 728x90, Ads 09-3-8 */
google_ad_slot = "9950197615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/show_ads.js.下载">
</script><ins id="aswift_0_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent;"><ins id="aswift_0_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:728px;height:90px;" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/saved_resource(2).html"></iframe></ins></ins>
<br>
</center>
		<div class="tags" style="display: block">Tags:  <a href="http://zyan.cc/tags/linux/" title="Tags:  linux" rel="tag">linux</a> , <a href="http://zyan.cc/tags/php/" title="Tags:  php" rel="tag">php</a> , <a href="http://zyan.cc/tags/mysql/" title="Tags:  mysql" rel="tag">mysql</a> , <a href="http://zyan.cc/tags/nginx/" title="Tags:  nginx" rel="tag">nginx</a> , <a href="http://zyan.cc/tags/apache/" title="Tags:  apache" rel="tag">apache</a> , <a href="http://zyan.cc/tags/html/" title="Tags:  html" rel="tag">html</a> , <a href="http://zyan.cc/tags/centos/" title="Tags:  centos" rel="tag">centos</a> , <a href="http://zyan.cc/tags/http/" title="Tags:  http" rel="tag">http</a> , <a href="http://zyan.cc/tags/apc/" title="Tags:  apc" rel="tag">apc</a> , <a href="http://zyan.cc/tags/xcache/" title="Tags:  xcache" rel="tag">xcache</a> , <a href="http://zyan.cc/tags/memcached/" title="Tags:  memcached" rel="tag">memcached</a> , <a href="http://zyan.cc/tags/httpd/" title="Tags:  httpd" rel="tag">httpd</a> , <a href="http://zyan.cc/tags/memcache/" title="Tags:  memcache" rel="tag">memcache</a> , <a href="http://zyan.cc/tags/epoll/" title="Tags:  epoll" rel="tag">epoll</a></div>
	</div>
	<div class="textbox-bottom">
	<img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;">  <a href="http://zyan.cc/category/8/" title="查看分类： 技术大类">技术大类</a> » <a href="http://zyan.cc/category/12/" title="查看分类： Web服务器">Web服务器</a> | <a href="http://zyan.cc/nginx_php_v5/#reply" title="发表您的评论">评论(308)</a> | <a href="javascript: void(0);" title="查看引用地址" onclick="showhidediv(&quot;tb413&quot;); if (document.getElementById(&quot;tbb413&quot;)) document.getElementById(&quot;tbb413&quot;).innerHTML=decodetburl(&quot;3%107%119%119%115%61%50%50%125%124%100%113%49%102%102%50%119%101%49%115%107%115%66%119%64%55%52%54%41%100%112%115%62%104%123%119%117%100%64%100%105%103%53%52&quot;, 1, 413);">引用(0)</a> | <a href="http://zyan.cc/nginx_php_v5/">阅读(381175)</a> 
	<div id="tb413" style="display: none;" class="textbox-tburl"><strong>引用地址：</strong>  <span id="tbb413"></span><br><strong>注意：</strong> 该地址仅在今日23:59:59之前有效</div>
	
	</div>
</div>
<div id="commentWrapper" class="comment-wrapper">
	<a name="topreply"></a>
	<div id="addnew"></div><div id="blogcomment3172">	<div class="commentbox">
		<div class="commentbox-title">
		海风[淘宝软件] <a href="mailto:hetao3@gmail.com"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email.gif" border="0" alt="Email" title="给他/她发邮件"></a> <a href="http://www.imzzz.cn/" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/homepage.gif" border="0" alt="Homepage" title="访问他/她的主页"></a> 
			<div class="commentbox-label">2009-5-6 14:29    </div>
		</div>
		<div class="commentbox-content">
			真不赖，打算从apache换到nginx了
			<div class="quote" style="display: none" id="replied_com_3172">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3172" style="display: none">
		</div>
	</div></div><div id="blogcomment3173">	<div class="commentbox">
		<div class="commentbox-title">
		tecer   
			<div class="commentbox-label">2009-5-6 15:15    </div>
		</div>
		<div class="commentbox-content">
			抢占广告位
			<div class="quote" style="display: none" id="replied_com_3173">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3173" style="display: none">
		</div>
	</div></div><div id="blogcomment3175">	<div class="commentbox">
		<div class="commentbox-title">
		<a href="http://zyan.cc/user/121/" target="_blank" title="查看他/她的资料">airwin</a>   
			<div class="commentbox-label">2009-5-6 15:57    </div>
		</div>
		<div class="commentbox-content">
			这个系列又更新了..强~apmserv也快该更新了吧~...我在win下 nginx+php-fastcgi 总是报什么no file input.. 愁死
			<div class="quote" style="display: none" id="replied_com_3175">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3175" style="display: none">
		</div>
	</div></div><div id="blogcomment3174">	<div class="commentbox">
		<div class="commentbox-title">
		LAVA <a href="mailto:rongjch@gmail.com"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email.gif" border="0" alt="Email" title="给他/她发邮件"></a> <a href="http://www.vpnall.com/" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/homepage.gif" border="0" alt="Homepage" title="访问他/她的主页"></a> 
			<div class="commentbox-label">2009-5-6 15:58    </div>
		</div>
		<div class="commentbox-content">
			http://mirror.be10.com/已经不能访问了,改163吧1
			<div class="quote" style="display: block" id="replied_com_3174">
				<div class="quote-title"><a href="http://zyan.cc/user/2/" target="_blank" title="查看他/她的资料">张宴</a> 回复于 2009-5-6 16:10</div>
				<div class="quote-content">已改。</div>
			</div>
		</div>
		<div id="com_3174" style="display: none">
		</div>
	</div></div><div id="blogcomment3176">	<div class="commentbox">
		<div class="commentbox-title">
		泡面 <a href="mailto:youngerpeo@hotmail.com"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email.gif" border="0" alt="Email" title="给他/她发邮件"></a>  
			<div class="commentbox-label">2009-5-6 16:09    </div>
		</div>
		<div class="commentbox-content">
			有个问题请教一下张宴大哥：<br>web服务器采取nginx+fastcgi(php)<br><br>现在是这种情况，有一个特定的请求，client的http请求头部中有一个自行定义的头部变量HTTP_TRUE_CLIENT_IP<br><br>GET /test.php HTTP/1.1<br>Accept: */*<br>Accept-Language: zh-cn<br>Accept-Encoding: gzip, deflate<br>HTTP_TRUE_CLIENT_IP: 1.1.1.1<br>User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; CIBA; .NET CLR 2.0.50727)<br>Host: <a href="http://www.test.com/" target="_blank">www.test.com</a><br>Connection: Keep-Alive<br><br><br>在php中如何能得到这个自定义头部HTTP_TRUE_CLIENT_IP呢？<br><br>我的做法是：<br>首先在nginx fastcgi配置中:<br>fastcgi_param&nbsp;&nbsp;HTTP_TRUE_CLIENT_IP $http_http_true_client_ip;<br>在php中通过$_SERVER["HTTP_TRUE_CLIENT_IP"]获取这个值。<br><br>由于不知道在nignx fastcgi中如何配置$http_http_true_client_ip; ，结果在php的$_SERVER数组中有这个索引$_SERVER["HTTP_TRUE_CLIENT_IP"]，却没有值。<br><br>但是在apache中是可以轻松地通过$_SERVER["HTTP_TRUE_CLIENT_IP"]获取<br><br>请问如何能得到值呢
			<div class="quote" style="display: block" id="replied_com_3176">
				<div class="quote-title"><a href="http://zyan.cc/user/2/" target="_blank" title="查看他/她的资料">张宴</a> 回复于 2009-5-6 19:21</div>
				<div class="quote-content">你要的功能需要修改Nginx源代码：nginx-0.7.54/src/http/ngx_http_request.c<br>查找ngx_http_header_t&nbsp;&nbsp;ngx_http_headers_in[] = {<br>里面是对客户端header头的每个变量进行处理的，需要加上对你的HTTP_TRUE_CLIENT_IP的处理。</div>
			</div>
		</div>
		<div id="com_3176" style="display: none">
		</div>
	</div></div><div id="blogcomment3177">	<div class="commentbox">
		<div class="commentbox-title">
		Neaton   
			<div class="commentbox-label">2009-5-6 16:12    </div>
		</div>
		<div class="commentbox-content">
			规范，可以用在工业环境
			<div class="quote" style="display: none" id="replied_com_3177">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3177" style="display: none">
		</div>
	</div></div><div id="blogcomment3178">	<div class="commentbox">
		<div class="commentbox-title">
		瘦子  <a href="http://shouzi.cn/" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/homepage.gif" border="0" alt="Homepage" title="访问他/她的主页"></a> 
			<div class="commentbox-label">2009-5-6 16:35    </div>
		</div>
		<div class="commentbox-content">
			很不错~~ 更完善了。。。
			<div class="quote" style="display: none" id="replied_com_3178">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3178" style="display: none">
		</div>
	</div></div><div id="blogcomment3179">	<div class="commentbox">
		<div class="commentbox-title">
		npc   
			<div class="commentbox-label">2009-5-6 16:47    </div>
		</div>
		<div class="commentbox-content">
			前排占座
			<div class="quote" style="display: none" id="replied_com_3179">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3179" style="display: none">
		</div>
	</div></div><div id="blogcomment3180">	<div class="commentbox">
		<div class="commentbox-title">
		<a href="http://zyan.cc/user/416/" target="_blank" title="查看他/她的资料">fccbys</a> <a href="mailto:469149700@qq.com"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email.gif" border="0" alt="Email" title="给他/她发邮件"></a>  
			<div class="commentbox-label">2009-5-6 16:53    </div>
		</div>
		<div class="commentbox-content">
			不错...
			<div class="quote" style="display: none" id="replied_com_3180">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3180" style="display: none">
		</div>
	</div></div><div id="blogcomment3182">	<div class="commentbox">
		<div class="commentbox-title">
		小斌   
			<div class="commentbox-label">2009-5-6 17:04    </div>
		</div>
		<div class="commentbox-content">
			更新了
			<div class="quote" style="display: none" id="replied_com_3182">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3182" style="display: none">
		</div>
	</div></div><div id="blogcomment3183">	<div class="commentbox">
		<div class="commentbox-title">
		Tmac Fang   
			<div class="commentbox-label">2009-5-6 17:29    </div>
		</div>
		<div class="commentbox-content">
			支持你，本人还在学习中！
			<div class="quote" style="display: none" id="replied_com_3183">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3183" style="display: none">
		</div>
	</div></div><div id="blogcomment3184">	<div class="commentbox">
		<div class="commentbox-title">
		dd_macle   
			<div class="commentbox-label">2009-5-6 17:30    </div>
		</div>
		<div class="commentbox-content">
			原来打算用apache做负载均衡，张兄这里资料这么全，看来用Nginx是更好的选择，遇到问题还要请教你：）
			<div class="quote" style="display: none" id="replied_com_3184">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3184" style="display: none">
		</div>
	</div></div><div id="blogcomment3185">	<div class="commentbox">
		<div class="commentbox-title">
		泡面   
			<div class="commentbox-label">2009-5-6 17:34    </div>
		</div>
		<div class="commentbox-content">
			问题已经解决了。人为错误。
			<div class="quote" style="display: none" id="replied_com_3185">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3185" style="display: none">
		</div>
	</div></div><div id="blogcomment3187">	<div class="commentbox">
		<div class="commentbox-title">
		linsk <a href="mailto:online@linsk.cn"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email.gif" border="0" alt="Email" title="给他/她发邮件"></a> <a href="http://linsk.cn/" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/homepage.gif" border="0" alt="Homepage" title="访问他/她的主页"></a> 
			<div class="commentbox-label">2009-5-6 18:55    </div>
		</div>
		<div class="commentbox-content">
			特别关注~~
			<div class="quote" style="display: none" id="replied_com_3187">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3187" style="display: none">
		</div>
	</div></div><div id="blogcomment3189">	<div class="commentbox">
		<div class="commentbox-title">
		OH&lt;   
			<div class="commentbox-label">2009-5-6 20:37    </div>
		</div>
		<div class="commentbox-content">
			en.什么时候出mysql 5.4的版本啊？再弄一个PDF版本下载，就更&nbsp;&nbsp;赞&nbsp;&nbsp;了啦在弄一个shell 批处理的下载，那，就牛死了。
			<div class="quote" style="display: none" id="replied_com_3189">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3189" style="display: none">
		</div>
	</div></div><div id="blogcomment3190">	<div class="commentbox">
		<div class="commentbox-title">
		tywtyw2002 <a href="mailto:tywtyw2002@gmail.com"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email.gif" border="0" alt="Email" title="给他/她发邮件"></a> <a href="http://landon.v70.us/" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/homepage.gif" border="0" alt="Homepage" title="访问他/她的主页"></a> 
			<div class="commentbox-label">2009-5-6 23:23    </div>
		</div>
		<div class="commentbox-content">
			大哥 问下 NGINX怎么对一个虚拟主机全局限速呀 就是不管多少人下载 总速度都不超过100K
			<div class="quote" style="display: none" id="replied_com_3190">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3190" style="display: none">
		</div>
	</div></div><div id="blogcomment3191">	<div class="commentbox">
		<div class="commentbox-title">
		陶陶  <a href="http://www.mataoran.cn/" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/homepage.gif" border="0" alt="Homepage" title="访问他/她的主页"></a> 
			<div class="commentbox-label">2009-5-7 00:50    </div>
		</div>
		<div class="commentbox-content">
			占位学习中
			<div class="quote" style="display: none" id="replied_com_3191">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3191" style="display: none">
		</div>
	</div></div><div id="blogcomment3192">	<div class="commentbox">
		<div class="commentbox-title">
		ronin   
			<div class="commentbox-label">2009-5-7 10:34    </div>
		</div>
		<div class="commentbox-content">
			eaccelerator0.9.5.3加载了说只能支持PHP5.2.8，为什么你的可以支持PHP5.2.9？
			<div class="quote" style="display: block" id="replied_com_3192">
				<div class="quote-title"><a href="http://zyan.cc/user/2/" target="_blank" title="查看他/她的资料">张宴</a> 回复于 2009-5-7 11:35</div>
				<div class="quote-content">按照此文章安装的eaccelerator0.9.5.3，能够正常支持PHP 5.2.9，以下是按照本文章编译的PHP的phpinfo信息：<br><a href="http://blog.s135.com/phpinfo.php" target="_blank">http://blog.s135.com/phpinfo.php</a></div>
			</div>
		</div>
		<div id="com_3192" style="display: none">
		</div>
	</div></div><div id="blogcomment3193">	<div class="commentbox">
		<div class="commentbox-title">
		jjklm   
			<div class="commentbox-label">2009-5-7 10:38    </div>
		</div>
		<div class="commentbox-content">
			有个问题请教一下，在我们服务器做维护的时候，修改服务器的配置文件让他跳到了一个，静态页面来告诉网友服务器在维护，可是，再通过kill -HUP 方式切换回原来的配置的时候，确出现了很多网友还是访问到了原来的维护页面，这是什么原因造成的呢？请指教！谢谢！
			<div class="quote" style="display: block" id="replied_com_3193">
				<div class="quote-title"><a href="http://zyan.cc/user/2/" target="_blank" title="查看他/她的资料">张宴</a> 回复于 2009-5-7 11:39</div>
				<div class="quote-content">kill -HUP 之前先用 /usr/local/webserver/nginx/sbin/nginx -t 命令检查一下配置文件是否有语法错误，如果有错误，kill -HUP 是不会重新加载配置文件的。</div>
			</div>
		</div>
		<div id="com_3193" style="display: none">
		</div>
	</div></div><div id="blogcomment3196">	<div class="commentbox">
		<div class="commentbox-title">
		<a href="http://zyan.cc/user/418/" target="_blank" title="查看他/她的资料">wengbin22</a> <a href="mailto:jhcwengbin@gmail.com"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email.gif" border="0" alt="Email" title="给他/她发邮件"></a>  
			<div class="commentbox-label">2009-5-7 15:14    </div>
		</div>
		<div class="commentbox-content">
			<img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/1.jpg" alt="" style="float: left; padding-right: 5px; width: 80px; height: 80px; "><div>看着有点晕那！</div><div style="clear:both;"></div>
			<div class="quote" style="display: none" id="replied_com_3196">
				<div class="quote-title"></div>
				<div class="quote-content"></div>
			</div>
		</div>
		<div id="com_3196" style="display: none">
		</div>
	</div></div>	<div class="comment-pages">
	<span class="pagebar-mainbody"> 分页： 1/16  <a href="http://zyan.cc/nginx_php_v5/1/1/"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/doubleleft.gif" alt="第一页" title="第一页" border="0"></a> <span class="pagebar-selections"> <span class="pagelink-current">1</span>  <a href="http://zyan.cc/nginx_php_v5/2/1/">2</a>  <a href="http://zyan.cc/nginx_php_v5/3/1/">3</a>  <a href="http://zyan.cc/nginx_php_v5/4/1/">4</a>  <a href="http://zyan.cc/nginx_php_v5/5/1/">5</a>  <a href="http://zyan.cc/nginx_php_v5/6/1/">6</a>  <a href="http://zyan.cc/nginx_php_v5/7/1/">7</a>  <a href="http://zyan.cc/nginx_php_v5/8/1/">8</a>  <a href="http://zyan.cc/nginx_php_v5/9/1/">9</a>  <a href="http://zyan.cc/nginx_php_v5/10/1/">10</a> </span> <a href="http://zyan.cc/nginx_php_v5/2/1/"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/singleright.gif" alt="下页" title="下页" border="0"></a>  <a href="http://zyan.cc/nginx_php_v5/16/1/"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/doubleright.gif" alt="最后页" title="最后页" border="0"></a> </span>
	</div>
</div>
	<a name="reply"></a>
	<div id="commentForm">
		<form name="visitorinput" id="visitorinput" method="post" action="javascript: ajax_submit(&#39;addreply&#39;);">
		<table width="100%" border="0" align="center" cellpadding="4" cellspacing="1" class="formbox-comment">
			<tbody><tr>
				<td colspan="2" class="formbox-comment-title">发表评论</td>
			</tr>
			<tr>
				<td class="formbox-comment-rowheader" width="140">
					<div class="panel-smilies">
						<div class="panel-smilies-title">表情</div>
							<div class="panel-smilies-content">
								<a href="javascript: insertemot(&#39;anger&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/anger.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;bad&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/bad.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;cool&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/cool.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;cry&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/cry.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;dog&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/dog.gif" alt="emot" border="0"></a><br><a href="javascript: insertemot(&#39;envy&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/envy.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;fear&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/fear.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;grin&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/grin.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;kill&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/kill.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;love&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/love.gif" alt="emot" border="0"></a><br><a href="javascript: insertemot(&#39;pig&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/pig.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;puke&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/puke.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;question&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/question.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;shock&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shock.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;shuai&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shuai.gif" alt="emot" border="0"></a><br><a href="javascript: insertemot(&#39;shy&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shy.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;sleepy&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/sleepy.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;smile&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/smile.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;smoke&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/smoke.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;stupid&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/stupid.gif" alt="emot" border="0"></a><br><a href="javascript: insertemot(&#39;sweat&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/sweat.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;thumbdown&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/thumbdown.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;unhappy&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/unhappy.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;uplook&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/uplook.gif" alt="emot" border="0"></a><a href="javascript: insertemot(&#39;zan&#39;);"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/zan.gif" alt="emot" border="0"></a><br>
							</div>
						</div>
						<div style="text-align: left;">
							<input name="stat_html" id="stat_html" type="checkbox" value="1" disabled="disabled"> 打开HTML<br>
							<input name="stat_ubb" id="stat_ubb" type="checkbox" value="1" checked="checked"> 打开UBB<br>
							<input name="stat_emot" id="stat_emot" type="checkbox" value="1" checked="checked"> 打开表情<br>
							<input name="stat_property" id="stat_property" type="checkbox" value="1"> 隐藏
							<br>
							<input name="stat_rememberme" id="stat_rememberme" type="checkbox" value="1" onclick="quickremember();">  记住我 
						</div>
				</td>
				<td class="formbox-comment-content" valign="top">
					<div style="padding-bottom:5px">
					
					昵称 <input name="v_replier" id="v_replier" type="text" size="12" class="text" value="">&nbsp;
					 密码 <input name="v_password" id="v_password" type="password" size="12" class="text" value="">&nbsp; 游客无需密码 
					<br>
					网址 <input name="v_repurl" id="v_repurl" type="text" size="12" class="text" value="">&nbsp;
					电邮 <input name="v_repemail" id="v_repemail" type="text" size="12" class="text" value="">&nbsp; <a href="http://zyan.cc/login.php?job=register" title="注册">[注册]</a>
					</div>
					<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/ubbeditor_tiny.js.下载"></script><div style="margin: 4px 0px 4px 0px;"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/bar.gif" alt=""> &nbsp;<a href="javascript: bold();"><img border="0" title="粗体" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/bold.gif" alt=""></a> &nbsp;<a href="javascript: italicize();"><img border="0" title="斜体" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/italic.gif" alt=""></a> &nbsp;<a href="javascript: underline();"><img border="0" title="下划线" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/underline.gif" alt=""></a> &nbsp;<img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/bar.gif" alt=""> &nbsp;<a href="javascript: image();"><img border="0" title="插入图片" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/insertimage.gif" alt=""></a> &nbsp;<a href="javascript: hyperlink();"><img border="0" title="插入超链接" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/url.gif" alt=""></a> &nbsp;<a href="javascript: email();"><img border="0" title="插入邮件地址" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/email(1).gif" alt=""></a> &nbsp;<a href="javascript: quoteme();"><img border="0" title="插入引用文字" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/quote.gif" alt=""></a></div>
					<script type="text/javascript">securitycodejs="验证码 <span id='securityimagearea'><img src='inc/securitycode.php?rand=3096' alt='' title='请输入验证码'/></span> <input name='v_security' id='v_security' type='text' size='4' maxlength='4' class='text' /> 不区分大小写   [<a href=\"javascript: refreshsecuritycode('securityimagearea', 'v_security');\">看不清？</a>]";</script>  
					<textarea name="v_content" id="v_content" cols="64" rows="10" onkeydown="ctrlenterkey(event);" onfocus="if (securitycodejs!=null) {document.getElementById(&#39;showsecuritycode&#39;).innerHTML=securitycodejs; securitycodejs=null;}"></textarea> <br>	<span id="showsecuritycode"></span>
					<div style="padding-top:10px">
					<input type="hidden" name="v_id" id="v_id" value="413"><input type="hidden" name="v_reppsw" id="v_reppsw" value="">
						<input type="button" name="btnSubmit" id="btnSubmit" value="提交" class="button" onclick="ajax_submit(&#39;addreply&#39;); return false;">&nbsp;
						<input name="reset" id="reset" type="reset" value="重置" class="button">
					</div>
				</td>
			</tr>
		</tbody></table>
		</form>
	</div>
					<div class="article-bottom" style="display: none">
						<div class="pages">
							
						</div>
					</div>
				</div>
			</div>
		<div id="sidebar" class="sidebar" style="display: block;">
			<div id="innerSidebar">
				<div id="panelCategory" class="panel">
<h5 style="cursor: pointer" onclick="showhidediv(&quot;sideblock_category&quot;);">分类</h5>
<div class="panel-content" id="sideblock_category" style="display: block">
<ul><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/page_script.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/8/" title="我的原创技术文章，探讨互联网系统架构、编程技术。">技术大类</a> [1] <a href="http://zyan.cc/feed.php?go=category_8"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/mobile/" title="iOS、Android、HTML5 移动互联网开发">移动互联网与手机</a> [8] <a href="http://zyan.cc/feed.php?go=category_25"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/12/" title="Nginx、Apache及其他Web服务器">Web服务器</a> [33] <a href="http://zyan.cc/feed.php?go=category_12"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/13/" title="Squid、Varnish、Memcached及其他缓存服务器。分布式存储技术。">Cache与存储</a> [21] <a href="http://zyan.cc/feed.php?go=category_13"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/14/" title="MySQL、Oracle等数据库安装、配置、优化、二次开发。">数据库技术</a> [15] <a href="http://zyan.cc/feed.php?go=category_14"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/15/" title="PHP配置与优化，前端开发、脚本语言编程。">PHP/JS/Shell</a> [27] <a href="http://zyan.cc/feed.php?go=category_15"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/16/" title="研究开源搜索引擎技术与中文分词技术。">搜索引擎技术</a> [6] <a href="http://zyan.cc/feed.php?go=category_16"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/19/" title="网站系统架构设计，以及四/七层负载均衡交换机、服务器等。">系统架构与硬件</a> [11] <a href="http://zyan.cc/feed.php?go=category_19"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linemiddle.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/17/" title="其他Linux/Unix技术">其他Unix技术</a> [39] <a href="http://zyan.cc/feed.php?go=category_17"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li class="indent"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/tree_linebottom.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/18/" title="Windows相关文章">Windows相关</a> [11] <a href="http://zyan.cc/feed.php?go=category_18"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/diannao.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/5/" title="小学四年级玩老爸购物中奖而得的小霸王电脑学习机，大学四年级玩新浪的DELL服务器。">电脑杂谈</a> [75] <a href="http://zyan.cc/feed.php?go=category_5"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/desk.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/1/" title="这儿是我开发的计算机作品，我决定接受新的挑战：给太阳装上开关，给黄河按上栏杆，给飞机设计倒档，为长城贴上瓷砖！">早期作品</a> [20] <a href="http://zyan.cc/feed.php?go=category_1"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/xinqing.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/3/" title="生活是丰富的，心情是多彩的。阴天下雨，阳光灿烂，闲暇的时候，讲我们的故事给网络听......">心情随笔</a> [59] <a href="http://zyan.cc/feed.php?go=category_3"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/notebook.png" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/4/" title="人们都说生活如流水，我坚决同意；人们又说，要养成记账的好习惯，我双手赞成。所以本栏目记录的全部都是我的流水账。">生活琐事</a> [134] <a href="http://zyan.cc/feed.php?go=category_4"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/zaishang.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/6/" title="站在商家的立场谈问题，从市场经济的角度看问题。">在商言商</a> [8] <a href="http://zyan.cc/feed.php?go=category_6"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nalai.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/category/7/" title="鲁迅说，“送去”之外，还得“拿来”，是为“拿来主义”。所以好东东我要从别处拿来一点。">拿来主义</a> [6] <a href="http://zyan.cc/feed.php?go=category_7"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.png" border="0" alt="RSS" title="追踪这个分类的RSS"></a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/soft.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://apmserv.zyan.cc/" title="自动搭建Apache+PHP+MySQL环境的绿色软件" target="_blank">APMServ：一键搭建PHP平台</a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/down.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/httpsqs/" title="基于 HTTP GET/POST 协议的轻量级开源简单消息队列服务。" target="_blank">HTTPSQS：高速消息队列</a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/phpcws.png" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://code.google.com/p/httpcws" title="HTTPCWS 是一款基于HTTP协议的开源中文分词系统。" target="_blank">HTTPCWS：中文分词系统</a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/mysqlcft.png" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://code.google.com/p/mysqlcft/" title="MySQL中文全文索引插件" target="_blank">mysqlcft：中文全文索引</a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/nginx_php_v6/" title="Nginx 0.7.x + PHP 5.2.6（FastCGI）搭建胜过Apache十倍的Web服务器（第4版）" target="_blank">Nginx-PHP：高并发Web服务</a></li><li><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/f5.gif" alt="" style="margin:3px 1px -4px 0px;"> <a href="http://zyan.cc/f5_big_ip/" title="F5 BIG-IP负载均衡器配置实例与Web管理界面体验" target="_blank">F5 BIG-IP：在线管理体验</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_rewin&quot;);">个人简介</h5>
<div class="panel-content" id="sidebar_rewin" style="display: block">
<font color="#4f6371">
<font color="#ff9900">·</font>姓名：张宴 <font color="#ff9900">·</font>网名：回忆未来<br><font color="#ff9900">·</font>生日：1985年5月19日<br><font color="#ff9900">·</font>博客：<a href="http://zyan.cc/" target="_blank">http://zyan.cc</a><br>
<font color="#ff9900">·</font>邮箱：<script type="text/javascript">function copyText(obj) {var rng = document.body.createTextRange();rng.moveToElementText(obj);rng.scrollIntoView();rng.select();rng.execCommand("Copy");rng.collapse(false);}</script><span id="myemail"><script language="JavaScript">
<!-- Begin
user = "admin";
site = "zya";
domain = "n.cc";
document.write(user + '@' + site + domain);
// End -->
</script>admin@zyan.cc</span> [<a href="http://zyan.cc/#" title="复制E-mail地址到剪贴板" onclick="copyText(document.all.myemail)">复制</a>]<br><font color="#ff9900">·</font>推特：<a href="https://twitter.com/rewinx" title="需翻墙访问" target="_blank">twitter.com/rewinx</a><br><font color="#ff9900">·</font>微博：<a href="http://t.sina.com.cn/rewinx" target="_blank">t.sina.com.cn/rewinx</a><br><font color="#ff9900">·</font>籍贯：<a href="http://www.xxz.gov.cn/" target="_blank">湖南省湘西自治州</a><hr><font color="#ff9900">·</font>学校：<a href="http://www.wuhan.gov.cn/" target="_blank">湖北武汉</a>|<a href="http://www.scuec.edu.cn/" target="_blank">中南民族大学</a><br><font color="#ff9900">·</font>专业：<a href="http://www.scuec.edu.cn/economics/" target="_blank">2003级|国际经济与贸易</a><br><font color="#ff9900">·</font>时间：2003年9月─2007年7月<hr><font color="#ff9900">·</font>工作：苏州热拍信息技术有限公司<br><font color="#ff9900">·</font>职位：CEO<br><font color="#ff9900">·</font>地址：北京市朝阳区广渠路3号竞园<br><font color="#ffffff">·</font>　　　苏州工业园区若水路1号<br><font color="#ff9900">·</font>时间：2013.01.01─2016.02.14<hr><font color="#ff9900">·</font>工作：<a href="http://www.4399.com/" title="北京游家世纪广告有限公司(4399.com)" target="_blank">4399.com 闪购创业孵化器</a><br><font color="#ff9900">·</font>职位：闪购技术负责人<br><font color="#ff9900">·</font>地址：北京市朝阳区建外SOHO A座<br><font color="#ff9900">·</font>时间：2012.02.07─2012.12.31<hr><font color="#ff9900">·</font>工作：<a href="http://www.yijia.com/" title="北京世纪一家网电子商务有限公司" target="_blank">北京世纪一家网</a><br><font color="#ff9900">·</font>职位：技术总监<br><font color="#ff9900">·</font>地址：北京市朝阳区建外SOHO 8#<br><font color="#ff9900">·</font>时间：2011.09.01─2012.02.06<hr><font color="#ff9900">·</font>工作：<a href="http://www.kingsoft.com/" title="金山软件公司" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/logo-kingsoft.gif" border="0"></a><a href="http://www.xoyo.com/" target="_blank">金山游戏</a><br><font color="#ff9900">·</font>部门：运营技术中心-网站开发部<br><font color="#ff9900">·</font>职位：技术经理/架构师<br><font color="#ff9900">·</font>地址：北京市海淀区<a href="http://www.kingsoft.com/pop/zt_yxks/bj.shtml" target="_blank">金山软件大厦</a><br><font color="#ff9900">·</font>时间：2008.11.24─2011.08.31<hr><font color="#ff9900">·</font>工作：<a href="http://www.ganji.com/" title="赶集网" target="_blank">赶集网</a><br><font color="#ff9900">·</font>职位：架构师<br><font color="#ff9900">·</font>地址：北京市海淀区清华科技园<br><font color="#ff9900">·</font>时间：2008.04.01─2008.11.21<hr><font color="#ff9900">·</font>工作：<a href="http://www.sina.com.cn/" title="新浪网" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/logo-sina.jpg" border="0"></a>互动社区事业部<br><font color="#ff9900">·</font>职位：<a href="http://v.sina.com.cn/" title="新浪播客" target="_blank">新浪播客</a>-系统工程师<br><font color="#ff9900">·</font>地址：北京市海淀区中关村<br><font color="#ffffff">·</font>　　　理想国际大厦18层<br><font color="#ff9900">·</font>时间：2007.01.25─2008.03.31
</font>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_taotao&quot;);">新浪微博</h5>
<div class="panel-content" id="sidebar_taotao" style="display: block">
<iframe id="sina_widget_103500" style="width:195px; height:500px;" frameborder="0" scrolling="no" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/widget_blog.html"></iframe>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_mybook&quot;);">我的著作</h5>
<div class="panel-content" id="sidebar_mybook" style="display: block">
<a href="http://product.dangdang.com/product.aspx?product_id=20807089&amp;ref=search-0-A" target="_blank"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/nginx_book.jpg" border="0"></a>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_photo&quot;);">个人照片</h5>
<div class="panel-content" id="sidebar_photo" style="display: none">
<img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/zhangyan.gif" border="0">
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_rss&quot;);">订阅博客</h5>
<div class="panel-content" id="sidebar_rss" style="display: block">
<ul class="list"><li class="listitem"><a href="http://zyan.cc/feed.php" target="_blank"><img border="0" alt="订阅回忆未来[张宴]的博客" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/rss.gif"></a></li>
<li class="listitem"><a href="http://wap.feedsky.com/rewin" target="_blank"><img border="0" alt="手机阅读网址" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/mobile.gif"></a></li>
<li class="listitem"><a href="http://www.zhuaxia.com/add_channel.php?url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_zhuaxia.gif" alt="抓虾" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://www.pageflakes.com/subscribe.aspx?url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_pageflakes.gif" alt="pageflakes" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://www.rojo.com/add-subscription?resource=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_rojo.gif" alt="Rojo" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://fusion.google.com/add?feedurl=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_google.gif" alt="google reader" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://www.netvibes.com/subscribe.php?url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_netvibes.gif" alt="netvibes" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://add.my.yahoo.com/rss?url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_yahoo.gif" alt="my yahoo" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_newsgator.gif" alt="newsgator" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://www.bloglines.com/sub/http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_bloglines.gif" alt="bloglines" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://www.xianguo.com/subscribe.php?url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_xianguo.jpg" alt="鲜果" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://inezha.com/add?url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_nazha.gif" alt="哪吒" vspace="2" style="margin-bottom:3px"></a></li>
<li class="listitem"><a href="http://reader.yodao.com/#url=http://zyan.cc/feed.php" target="_blank"><img border="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/icon_subshot02_youdao.gif" alt="有道" vspace="2" style="margin-bottom:3px"></a></li></ul>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_search&quot;);">搜索</h5>
<div class="panel-content" id="sidebar_search" style="display: block">
	<form method="post" action="http://zyan.cc/visit.php">
	<input name="job" type="hidden" value="search">
	<input name="keyword" class="search-field" type="text">
	<select name="searchmethod"><option value="1">日志标题</option><option value="2">日志全文</option><option value="3">评论引用</option><option value="4">所有留言</option></select>
	<input value="搜索" class="button" type="submit">
	</form>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_entries&quot;);">最新日志</h5>
<div class="panel-content" id="sidebar_entries" style="display: block">
<ul><li class="rowcouple"><a href="http://zyan.cc/korea_vps/" title="如愿以偿将博客的VPS迁到韩国">如愿以偿将博客的VPS迁到韩国</a></li><li class="rowodd"><a href="http://zyan.cc/new_domain/" title="博客更换域名">博客更换域名</a></li><li class="rowcouple"><a href="http://zyan.cc/pthreads/" title="PHP 真正多线程的使用">PHP 真正多线程的使用</a></li><li class="rowodd"><a href="http://zyan.cc/post/491/" title="移动互联网初创型团队需要什么样的云计算服务？">移动互联网初创型团队需要什么样的云计算服务？</a></li><li class="rowcouple"><a href="http://zyan.cc/post/490/" title="ASIHTTPRequest 类库在 iOS 7.0 中需要修改的地方">ASIHTTPRequest 类库在 iOS 7.0 中需要修改的地方</a></li><li class="rowodd"><a href="http://zyan.cc/post/489/" title="博客换了个VPS">博客换了个VPS</a></li><li class="rowcouple"><a href="http://zyan.cc/post/488/" title="ADSL故障">ADSL故障</a></li><li class="rowodd"><a href="http://zyan.cc/nginx_php_v7/" title="Nginx 1.5.2 + PHP 5.5.1 + MySQL 5.6.10 在 CentOS 下的编译安装">Nginx 1.5.2 + PHP 5.5.1 + MySQL 5.6.10 在 CentOS 下的编译安装</a></li><li class="rowcouple"><a href="http://zyan.cc/post/486/" title="手机电商APP的智能化设计">手机电商APP的智能化设计</a></li><li class="rowodd"><a href="http://zyan.cc/post/485/" title="被CC攻击">被CC攻击</a></li><li class="rowcouple"><a href="http://zyan.cc/cubieboard/" title="iPhone大小的盒子服务器Cubieboard">iPhone大小的盒子服务器Cubieboard</a></li><li class="rowodd"><a href="http://zyan.cc/xcode_svn/" title="iOS XCode 多人共享开发 SVN 配置需要做的小设置">iOS XCode 多人共享开发 SVN 配置需要做的小设置</a></li><li class="rowcouple"><a href="http://zyan.cc/post/482/" title="苏州，梦想之城">苏州，梦想之城</a></li><li class="rowodd"><a href="http://zyan.cc/webkit-touch-callout/" title="禁用 UIWebView 里面的链接长按弹出效果">禁用 UIWebView 里面的链接长按弹出效果</a></li><li class="rowcouple"><a href="http://zyan.cc/caoyuantianlu/" title="【旅行日记】2012年8月26日，寻找草原天路（又名草沿天路）">【旅行日记】2012年8月26日，寻找草原天路（又名草沿天路）</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_replies&quot;);">最新评论</h5>
<div class="panel-content" id="sidebar_replies" style="display: block">
<ul><li class="rowcouple"><a href="http://zyan.cc/post/311/#blogcomment50498" title="[wWW] - PHP多进程并发控制的测试用例[原创]">uplookuplook...</a></li><li class="rowodd"><a href="http://zyan.cc/httpcws_v100/#blogcomment50497" title="[webnie] - 基于HTTP协议的开源中文分词系统：HTTPCWS 1.0.0 发布[原创]">Error: Count...</a></li><li class="rowcouple"><a href="http://zyan.cc/post/43/#blogcomment50496" title="[刘子厚] - 我在民大的网络创业经历[原创]">好厉害，望尘莫及</a></li><li class="rowodd"><a href="http://zyan.cc/httpcws_v100/#blogcomment50495" title="[dengzi] - 基于HTTP协议的开源中文分词系统：HTTPCWS 1.0.0 发布[原创]">ERROR: Count...</a></li><li class="rowcouple"><a href="http://zyan.cc/post/491/#blogcomment50494" title="[不久归来] - 移动互联网初创型团队需要什么样的云计算服务？">cool这里是花钱也买不...</a></li><li class="rowodd"><a href="http://zyan.cc/domain_transfer/#blogcomment50493" title="[net] - 我的域名注册商由“新网”转移到美国Godaddy的全过程[原创]">新网域名注册优惠码在新网...</a></li><li class="rowcouple"><a href="http://zyan.cc/post/385/#blogcomment50492" title="[bird] - 亿级数据的高并发通用搜索引擎架构设计[原创]">是否还回复？数据写入 t...</a></li><li class="rowodd"><a href="http://zyan.cc/mysql-udf-http/#blogcomment50489" title="[july] - 为 MySQL 增加 HTTP/REST 客户端：MySQL UDF 函数 mysql-udf-http 1.0 发布">echo /usr/lo...</a></li><li class="rowcouple"><a href="http://zyan.cc/korea_vps/#blogcomment50488" title="[DDOS protected] - 如愿以偿将博客的VPS迁到韩国">您是否尝试过Sharkt...</a></li><li class="rowodd"><a href="http://zyan.cc/post/27/#blogcomment50487" title="[Cara membuat website] - 怀念中学时代，想念那些朋友[原创]">Thank you fo...</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_link&quot;);">链接</h5>
<div class="panel-content" id="sidebar_link" style="display: block">
<ul><li><strong>-----图片链接-----</strong></li><li class="indent"><a href="http://www.scuec.edu.cn/" target="_blank" title="我的母校：中南民族大学 - 中南民族大学"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/scuec.gif" alt="我的母校：中南民族大学" border="0"></a></li><li class="indent"><a href="http://v.sina.com.cn/" target="_blank" title="曾经工作：新浪-播客 - 新浪-互联星空-播客"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/sina_vnet_podcast.jpg" alt="曾经工作：新浪-播客" border="0"></a></li><li class="indent"><a href="http://www.xoyo.com/" target="_blank" title="金山软件：大型在线游戏交流社区逍遥网 - 金山软件有限公司：大型在线游戏交流社区逍遥网"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/kingsoft.gif" alt="金山软件：大型在线游戏交流社区逍遥网" border="0"></a></li><li class="indent"><a href="http://apmserv.s135.com/" target="_blank" title="我的软件：APMServ─智能搭建Apache+PHP+MySQL平台 - APMServ官方网站"><img src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/apmserv_logo.jpg" alt="我的软件：APMServ─智能搭建Apache+PHP+MySQL平台" border="0"></a></li><li><strong>-----合作机构-----</strong></li><li class="indent"><a href="http://blog.csdn.net/bvbook" target="_blank" title="武汉博文视点官方博客 - 武汉博文视点官方博客">武汉博文视点官方博客</a></li><li class="indent"><a href="http://www.eb163.com/" target="_blank" title="WEB编程站 - ">WEB编程站</a></li><li class="indent"><a href="http://www.haihaile.com/" target="_blank" title="孩孩乐 - ">孩孩乐</a></li><li><strong>-----IT界好友-----</strong></li><li class="indent"><a href="http://anchor.xoyo.com/" target="_blank" title="[金山] 李安科 - ">[金山] 李安科</a></li><li class="indent"><a href="http://blog.sina.com.cn/w3c" target="_blank" title="[金山] 蔡恩雷 - ">[金山] 蔡恩雷</a></li><li class="indent"><a href="http://blog.csdn.net/nirvana52" target="_blank" title="[金山] 王绘敏 - ">[金山] 王绘敏</a></li><li class="indent"><a href="http://wf.xplore.cn/" target="_blank" title="[新浪] Wirlfly - ">[新浪] Wirlfly</a></li><li class="indent"><a href="http://blog.vetcafe.net/" target="_blank" title="[新浪] JiangYuan - ">[新浪] JiangYuan</a></li><li class="indent"><a href="http://chaoqun.17348.com/" target="_blank" title="[新浪] 超群 - ">[新浪] 超群</a></li><li class="indent"><a href="http://blog.csdn.net/muyannian" target="_blank" title="[腾讯] muyannian - ">[腾讯] muyannian</a></li><li class="indent"><a href="http://www.dbanotes.net/" target="_blank" title="[支付宝] 冯大辉 - ">[支付宝] 冯大辉</a></li><li class="indent"><a href="http://lts98.tianyablog.com/" target="_blank" title="[天涯] 醉清风的叶子 - 生活、技术的交流。">[天涯] 醉清风的叶子</a></li><li class="indent"><a href="http://www.chedong.com/blog/" target="_blank" title="[博客大巴] 车东 - ">[博客大巴] 车东</a></li><li class="indent"><a href="http://dbaview.cn/" target="_blank" title="[百度] 石展,DBA的视界 - ">[百度] 石展,DBA的视界</a></li><li class="indent"><a href="http://www.54chen.com/" target="_blank" title="[中国雅虎] cc0cc - ">[中国雅虎] cc0cc</a></li><li class="indent"><a href="http://www.php-oa.com/" target="_blank" title="[一地带] 扶凯 - ">[一地带] 扶凯</a></li><li class="indent"><a href="http://hi.baidu.com/yanweinet" target="_blank" title="yanweinet - ">yanweinet</a></li><li class="indent"><a href="http://www.gotolab.cn/" target="_blank" title="Let&#39;s gotolab - cisco,dynamips,juniper.贵站链接已做好.">Let's gotolab</a></li><li class="indent"><a href="http://www.sbear.cn/" target="_blank" title="阿熊的窝 - 一亩三分田打造超级的熊窝">阿熊的窝</a></li><li class="indent"><a href="http://www.daichanger.com/" target="_blank" title="戴昌二 - 戴昌二，Eval,江西Seo,Eval&#39;Blog">戴昌二</a></li><li class="indent"><a href="http://www.bluefeel.com/" target="_blank" title="蓝风网络日志 - 蓝风网络日志,Kevin&#39;s Blog,用网络日志记录并分享生活点滴">蓝风网络日志</a></li><li class="indent"><a href="http://vip.sg-zc.cn/" target="_blank" title="Linuxs&#39;s Blog - ">Linuxs's Blog</a></li><li class="indent"><a href="http://linyh.yo2.cn/" target="_blank" title="LinYH&#39;s Blog - 一个懒人的博客">LinYH's Blog</a></li><li class="indent"><a href="http://blog.licess.cn/" target="_blank" title="Licess&#39;s Blog - Linux编程Shell、Perl、PHP LAMPR">Licess's Blog</a></li><li class="indent"><a href="http://www.jackoo.cn/" target="_blank" title="怒放的生命 - 怒放的生命">怒放的生命</a></li><li class="indent"><a href="http://blog.showjay.com/" target="_blank" title="Showjay&#39;s Blog - ">Showjay's Blog</a></li><li class="indent"><a href="http://www.6ird.cn/" target="_blank" title="怪鸟博客 - 用于记录在学习PHP过程中的点滴">怪鸟博客</a></li><li class="indent"><a href="http://www.ysrh.com/" target="_blank" title="怡水若寒 - ">怡水若寒</a></li><li class="indent"><a href="http://www.webfuny.cn/" target="_blank" title="funy&#39;s Blog - ">funy's Blog</a></li><li class="indent"><a href="http://www.wangxianjin.cn/" target="_blank" title="王先进 - ">王先进</a></li><li class="indent"><a href="http://kc.4181.cn/" target="_blank" title="空城&#39;s blog - ">空城's blog</a></li><li class="indent"><a href="http://www.gmle.cn/" target="_blank" title="gmle - 博客">gmle</a></li><li class="indent"><a href="http://www.okpython.com/bbs" target="_blank" title="Python中国 - 中国Python第一家">Python中国</a></li><li class="indent"><a href="http://kc.4181.cn/" target="_blank" title="空城&#39;s blog - ">空城's blog</a></li><li class="indent"><a href="http://www.xpb.cn/" target="_blank" title="海天旭日的blog - ">海天旭日的blog</a></li><li class="indent"><a href="http://yemaosheng.com/" target="_blank" title="叶茂盛 - ">叶茂盛</a></li><li class="indent"><a href="http://www.yhcgq.cn/index.asp" target="_blank" title="杨言的博客 - 杨言的个人博客">杨言的博客</a></li><li class="indent"><a href="http://selboo.com.cn/" target="_blank" title="Selboo&#39; Blog - ">Selboo' Blog</a></li><li class="indent"><a href="http://www.oophp.cn/" target="_blank" title="OOPHP - PHP开源博客">OOPHP</a></li><li class="indent"><a href="http://ptubuntu.com/" target="_blank" title="PTUbuntu Blog - 主要以linux为主.">PTUbuntu Blog</a></li><li class="indent"><a href="http://www.sou5.cn/" target="_blank" title="搜我收藏 - ">搜我收藏</a></li><li class="indent"><a href="http://www.wlzcn.com/blog" target="_blank" title="外来者设计工室 - 外来者设计工作室官方博客,Exotic DesignStudio,世界为我们而添彩">外来者设计工室</a></li><li class="indent"><a href="http://www.f0rest.cn/" target="_blank" title="f0rest - ">f0rest</a></li><li class="indent"><a href="http://www.aaronw.cn/" target="_blank" title="我的技术生活-王炜 - 个人blog">我的技术生活-王炜</a></li><li class="indent"><a href="http://jasonyu.cn/" target="_blank" title="Jason Yu - ">Jason Yu</a></li><li class="indent"><a href="http://www.leavan2324.cn/" target="_blank" title="梦昙花开 - 小站PR=3，博主为某大学软件工程专业大三学生的小站点，本博用来记录自己在web路上的点点滴滴">梦昙花开</a></li><li class="indent"><a href="http://www.zhangyiqun.cn/" target="_blank" title="jean - 专注于linux的年轻人">jean</a></li><li class="indent"><a href="http://www.wunengwu.cn/" target="_blank" title="sunlick&#39;s - sunlick’s blog">sunlick's</a></li><li class="indent"><a href="http://badb0y.cublog.cn/" target="_blank" title="badb0y&#39;s Blog - ">badb0y's Blog</a></li><li class="indent"><a href="http://yustar.joomlar.cn/" target="_blank" title="Yustar&#39;s Blog - 关注互联网，互联网开发技术">Yustar's Blog</a></li><li class="indent"><a href="http://www.jvones.com/blog" target="_blank" title="Jvones&#39; blog - Jvones&#39; blog">Jvones' blog</a></li><li class="indent"><a href="http://www.6ird.com/" target="_blank" title="怪鸟网络日志 - 6ird&#39;s Blog--怪鸟网络日志">怪鸟网络日志</a></li><li class="indent"><a href="http://www.blags.org/" target="_blank" title="Martin - ">Martin</a></li><li class="indent"><a href="http://www.9170.org/" target="_blank" title="王健宇&#39;s BLOG - 王健宇&#39;s BLOG">王健宇's BLOG</a></li><li class="indent"><a href="http://www.imop.us/" target="_blank" title="PHPer.yang - PHPer.yang 学习笔记">PHPer.yang</a></li><li><strong>-----同学校友-----</strong></li><li class="indent"><a href="http://hi.baidu.com/sannier" target="_blank" title="小虾米 - ">小虾米</a></li><li class="indent"><a href="http://www.blogcn.com/user46/sukie123/index.html" target="_blank" title="真水无香 - ">真水无香</a></li><li class="indent"><a href="http://blog.sina.com.cn/u/1227279972" target="_blank" title="挪葳之云 - ">挪葳之云</a></li><li class="indent"><a href="http://blog.sina.com.cn/u/1240634585" target="_blank" title="欧阳戈鸽 - ">欧阳戈鸽</a></li><li class="indent"><a href="http://www.blogcn.com/user38/vinsina/index.html" target="_blank" title="布早早 - ">布早早</a></li><li class="indent"><a href="http://blog.sina.com.cn/larval" target="_blank" title="娜瓦奔 - ">娜瓦奔</a></li><li class="indent"><a href="http://blog.sina.com.cn/nanbei128" target="_blank" title="之南 - ">之南</a></li><li class="indent"><a href="http://www.blogcn.com/User5/babyface303/index.html" target="_blank" title="普罗旺斯的天空 - ">普罗旺斯的天空</a></li><li class="indent"><a href="http://hi.baidu.com/cmvivi" target="_blank" title="微微vivi - ">微微vivi</a></li><li class="indent"><a href="http://www.tt-blog.com/" target="_blank" title="风海浮萍 - ">风海浮萍</a></li><li class="indent"><a href="http://hi.baidu.com/lammy" target="_blank" title="莱密之家 - ">莱密之家</a></li><li class="indent"><a href="http://blog.sina.com.cn/anthea" target="_blank" title="黯黯独步江湖 - ">黯黯独步江湖</a></li><li class="indent"><a href="http://hi.baidu.com/phpthink" target="_blank" title="玉面修罗 - ">玉面修罗</a></li><li class="indent"><a href="http://pengkang19850916.blog.tianya.cn/" target="_blank" title="彭康 - ">彭康</a></li><li class="indent"><a href="http://tonorth.blogcn.com/index.shtml" target="_blank" title="朝北-方向感 - ">朝北-方向感</a></li><li class="indent"><a href="http://www.blogcn.com/user47/liuchao8536/index.html" target="_blank" title="六弦天子 - ">六弦天子</a></li><li class="indent"><a href="http://blog.sina.com.cn/u/1197033380" target="_blank" title="Mr.1017 - ">Mr.1017</a></li><li class="indent"><a href="http://blog.sina.com.cn/yolanda2007" target="_blank" title="雨潇潇 - ">雨潇潇</a></li><li class="indent"><a href="http://www.whlxz.cn/" target="_blank" title="李炘争 - 李炘争的博客">李炘争</a></li><li class="indent"><a href="http://froglan.blogcn.com/" target="_blank" title="影姿飘过 - ">影姿飘过</a></li><li class="indent"><a href="http://www.preweb.cn/" target="_blank" title="阳关地带 - ">阳关地带</a></li><li class="indent"><a href="http://www.tengzhaorong.cn/" target="_blank" title="纪念未来 - 这是我的博客，我跟你是校友，还是老乡，希望能在你 这里作个链接！">纪念未来</a></li><li class="indent"><a href="http://www.anymoore.com/" target="_blank" title="anymoore - 骆勤">anymoore</a></li><li><strong>-----博客互联-----</strong></li><li class="indent"><a href="http://www.sophiaw.com/blog/" target="_blank" title="Sophia - ">Sophia</a></li><li class="indent"><a href="http://blog.sina.com.cn/u/1220764051" target="_blank" title="六道客栈 - ">六道客栈</a></li><li class="indent"><a href="http://blog.zhangjianfeng.com/" target="_blank" title="Jeffrey&#39;s Blog - ">Jeffrey's Blog</a></li><li class="indent"><a href="http://www.coldx.cn/" target="_blank" title="ColdX&#39;s Blog - ">ColdX's Blog</a></li><li class="indent"><a href="http://www.junluck.cn/" target="_blank" title="junluck&#39;s blog - for www...">junluck's blog</a></li><li class="indent"><a href="http://www.dashaqi.com/" target="_blank" title="大杀器 - 贵站链接已做好">大杀器</a></li><li class="indent"><a href="http://netkiller.github.com/" target="_blank" title="Netkiller - ">Netkiller</a></li><li><strong>-----在线资源-----</strong></li><li class="indent"><a href="http://www.ip138.com/" target="_blank" title="IP地址域名信息查询 - ">IP地址域名信息查询</a></li><li class="indent"><a href="http://www.russky.net/trans/" target="_blank" title="在线文本翻译 - ">在线文本翻译</a></li><li class="indent"><a href="http://www.eoool.com/" target="_blank" title="邮箱QQ图标快速生成 - ">邮箱QQ图标快速生成</a></li><li class="indent"><a href="http://webmessenger.msn.com/default.aspx?mkt=zh-cn" target="_blank" title="微软MSN Web版 - ">微软MSN Web版</a></li><li class="indent"><a href="http://virusscan.jotti.org/" target="_blank" title="多杀毒软件在线查毒 - ">多杀毒软件在线查毒</a></li><li class="indent"><a href="http://media-convert.com/zh/" target="_blank" title="多音频格式在线转换 - ">多音频格式在线转换</a></li><li class="indent"><a href="http://uptime.netcraft.com/" target="_blank" title="服务器系统信息查看 - ">服务器系统信息查看</a></li><li class="indent"><a href="http://docs.google.com/" target="_blank" title="在线Word、Excel文档 - ">在线Word、Excel文档</a></li><li class="indent"><a href="https://www.google.com/adsense?hl=zh_CN" target="_blank" title="Google AdSense - ">Google AdSense</a></li><li class="indent"><a href="http://www.net2ftp.com/" target="_blank" title="Web FTP 客户端 - ">Web FTP 客户端</a></li><li class="indent"><a href="http://skydrive.live.com/" target="_blank" title="微软skydrive网络硬盘 - ">微软skydrive网络硬盘</a></li><li class="indent"><a href="http://spritegen.website-performance.org/" target="_blank" title="CSS图片拼合生成器 - ">CSS图片拼合生成器</a></li><li class="indent"><a href="http://tools.pingdom.com/fpt/" target="_blank" title="网页HTTP在线分析 - ">网页HTTP在线分析</a></li><li class="indent"><a href="https://ksvpn.kingsoft.com/" target="_blank" title="金山软件 SSL VPN - ">金山软件 SSL VPN</a></li><li class="indent"><a href="http://wallpaper.sytes.org/" target="_blank" title="wallpaper图片查找 - ">wallpaper图片查找</a></li><li class="indent"><a href="http://www.google.com/finance/portfolio?gl=cn" target="_blank" title="谷歌财经投资组合 - 谷歌财经投资组合">谷歌财经投资组合</a></li><li><strong>-----设备厂商-----</strong></li><li class="indent"><a href="http://www.f5.com.cn/" target="_blank" title="F5 Networks 公司 - ">F5 Networks 公司</a></li><li class="indent"><a href="http://www.riverbed.com/cn/" target="_blank" title="Riverbed 公司 - ">Riverbed 公司</a></li><li class="indent"><a href="http://www1.ap.dell.com/content/products/productdetails.aspx/pedge_2950?c=cn&amp;l=zh&amp;s=lca&amp;cs=" target="_blank" title="DELL PowerEdge 2950 - ">DELL PowerEdge 2950</a></li><li class="indent"><a href="http://www1.ap.dell.com/content/products/productdetails.aspx/pedge_1950?c=cn&amp;l=zh&amp;s=lca&amp;cs=" target="_blank" title="DELL PowerEdge 1950 - ">DELL PowerEdge 1950</a></li><li class="indent"><a href="http://www.toyou.com.cn/" target="_blank" title="NetStor磁盘阵列 - ">NetStor磁盘阵列</a></li><li><strong>-----软件资料-----</strong></li><li class="indent"><a href="http://mirrors.sohu.com/" target="_blank" title="Linux/Unix国内下载镜像 - ">Linux/Unix国内下载镜像</a></li><li class="indent"><a href="http://dev.mysql.com/doc/refman/5.1/zh/" target="_blank" title="MySQL 5.1参考手册 - ">MySQL 5.1参考手册</a></li><li class="indent"><a href="http://www.ibm.com/developerworks/cn/" target="_blank" title="IBM developerworks 中国 - ">IBM developerworks 中国</a></li><li class="indent"><a href="http://soft.lzzxt.com/" target="_blank" title="小众软件 - 分享免费小巧、实用、有趣的绿色软件">小众软件</a></li><li class="indent"><a href="http://www.51ajax.com/demo/ascii/ascii.htm" target="_blank" title="ASCII 字符表 - ">ASCII 字符表</a></li><li class="indent"><a href="http://man.chinaunix.net/" target="_blank" title="UNIX手册中心 - ">UNIX手册中心</a></li><li class="indent"><a href="http://blog.s135.com/book/squid/" target="_blank" title="Squid中文权威指南 - ">Squid中文权威指南</a></li><li class="indent"><a href="http://www.builder.com.cn/" target="_blank" title="开发者在线 - builder.com.cn">开发者在线</a></li><li class="indent"><a href="http://man.chinaunix.net/develop/c&amp;c++/linux_c/default.htm" target="_blank" title="Linux常用C函数 - ">Linux常用C函数</a></li><li class="indent"><a href="http://www.erlang.org/" target="_blank" title="Erlang语言 - Erlang是一种通用的面向并发的程式语言">Erlang语言</a></li><li class="indent"><a href="http://c-faq-chn.sourceforge.net/ccfaq/index.html" target="_blank" title="C语言常见问题集 - ">C语言常见问题集</a></li><li class="indent"><a href="http://blog.s135.com/book/libevent/" target="_blank" title="Libevent 最新文档 - Libevent 2.0.1x 最新文档">Libevent 最新文档</a></li></ul>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_calendar&quot;);">日历</h5>
<div class="panel-content" id="sidebar_calendar" style="display: block">
<table id="calendar" cellspacing="1" width="100%">
<tbody><tr><td colspan="7" class="calendar-top">
<a href="http://zyan.cc/archiver/11/2016/" rel="noindex,nofollow">&lt;</a>
<a href="http://zyan.cc/archive.php" rel="noindex,nofollow"><span class="calendar-year">2017</span></a>
<a href="http://zyan.cc/archiver/11/2018/" rel="noindex,nofollow">&gt;</a>
	&nbsp;&nbsp;
<a href="http://zyan.cc/archiver/10/2017/" rel="noindex,nofollow">&lt;</a>
<a href="http://zyan.cc/archiver/11/2017/" rel="noindex,nofollow"><span class="calendar-month">11</span></a>
<a href="http://zyan.cc/archiver/12/2017/" rel="noindex,nofollow">&gt;</a><br>丁酉年（鸡）
</td></tr>
<tr class="calendar-weekdays">
	<td class="calendar-weekday-cell">日</td>
	<td class="calendar-weekday-cell">一</td>
	<td class="calendar-weekday-cell">二</td>
	<td class="calendar-weekday-cell">三</td>
	<td class="calendar-weekday-cell">四</td>
	<td class="calendar-weekday-cell">五</td>
	<td class="calendar-weekday-cell">六</td>
</tr>
<tr class="calendar-weekdays"><td class="calendar-sunday"><span title=""></span></td><td class="calendar-day"><span title=""></span></td><td class="calendar-day"><span title=""></span></td><td id="cal1" class="calendar-day"><span title="十三">1</span></td><td id="cal2" class="calendar-day"><span title="十四">2</span></td><td id="cal3" class="calendar-day"><span title="十五">3</span></td><td id="cal4" class="calendar-saturday"><span title="十六">4</span></td></tr><tr class="calendar-weekdays"><td id="cal5" class="calendar-sunday"><span title="十七">5</span></td><td id="cal6" class="calendar-day"><span title="十八">6</span></td><td id="cal7" class="calendar-day"><span title="十九">7</span></td><td id="cal8" class="calendar-day"><span title="二十">8</span></td><td id="cal9" class="calendar-day"><span title="廿一">9</span></td><td id="cal10" class="calendar-day"><span title="廿二">10</span></td><td id="cal11" class="calendar-saturday"><span title="廿三">11</span></td></tr><tr class="calendar-weekdays"><td id="cal12" class="calendar-sunday"><span title="廿四">12</span></td><td id="cal13" class="calendar-day"><span title="廿五">13</span></td><td id="cal14" class="calendar-day"><span title="廿六">14</span></td><td id="cal15" class="calendar-today"><span title="廿七">15</span></td><td id="cal16" class="calendar-day"><span title="廿八">16</span></td><td id="cal17" class="calendar-day"><span title="廿九">17</span></td><td id="cal18" class="calendar-saturday"><span title="十月">18</span></td></tr><tr class="calendar-weekdays"><td id="cal19" class="calendar-sunday"><span title="初二">19</span></td><td id="cal20" class="calendar-day"><span title="初三">20</span></td><td id="cal21" class="calendar-day"><span title="初四">21</span></td><td id="cal22" class="calendar-day"><span title="初五">22</span></td><td id="cal23" class="calendar-day"><span title="初六">23</span></td><td id="cal24" class="calendar-day"><span title="初七">24</span></td><td id="cal25" class="calendar-saturday"><span title="初八">25</span></td></tr><tr class="calendar-weekdays"><td id="cal26" class="calendar-sunday"><span title="初九">26</span></td><td id="cal27" class="calendar-day"><span title="初十">27</span></td><td id="cal28" class="calendar-day"><span title="十一">28</span></td><td id="cal29" class="calendar-day"><span title="十二">29</span></td><td id="cal30" class="calendar-day"><span title="十三">30</span></td><td class="calendar-day"><span title=""></span></td><td class="calendar-saturday"><span title=""></span></td></tr>
</tbody></table>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_statistics&quot;);">统计</h5>
<div class="panel-content" id="sidebar_statistics" style="display: block">
访问次数 21045874<br>今日访问 3380<br>日志数量 474<br><a href="http://zyan.cc/view.php?go=comment">评论数量 25339</a><br><a href="http://zyan.cc/view.php?go=tb">引用数量 552</a><br><a href="http://zyan.cc/guestbook.php">留言数量 2834</a><br><a href="http://zyan.cc/view.php?go=userlist">注册用户 2254</a><br>在线人数 143<br>
</div>
</div><div class="panel">
<h5 onclick="showhidediv(&quot;sidebar_misc&quot;);">其他</h5>
<div class="panel-content" id="sidebar_misc" style="display: block">
<a href="http://zyan.cc/login.php">登入</a><br><a href="http://zyan.cc/login.php?job=register">注册</a><br><a href="http://zyan.cc/login.php?job=applylink">申请链接</a><br>RSS： <a href="http://zyan.cc/feed.php">日志</a> | <a href="http://zyan.cc/feed.php?go=comment">评论</a><br>编码：UTF-8<br><a href="http://validator.w3.org/check?uri=referer" target="_blank">XHTML 1.0</a>
</div>
</div>
			</div>
		</div>
	</div>
		<div id="footer">
			<div id="innerFooter">
				<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shCore.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushCSharp.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushPhp.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushJScript.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushJava.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushVb.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushSql.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushXml.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushCss.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushCpp.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushDelphi.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushPython.js.下载"></script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/shBrushRuby.js.下载"></script>
<script class="javascript">dp.SyntaxHighlighter.HighlightAll('code');</script><center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-6435029984639420";
/* 728x90, 创建于 08-8-24 */
google_ad_slot = "4531164775";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/show_ads.js.下载">
</script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:728px;height:90px;" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/saved_resource(3).html"></iframe></ins></ins>
<br><br>
【<a href="http://www.upyun.com/?md=zy" title="www.upyun.com" target="_blank"><u>静态文件存储由又拍云存储提供</u></a>】
<br><br>
版权所有© 2005年5月19日-2013年 <a href="http://zyan.cc/" target="_blank">回忆未来[张宴]</a>，保留所有原创日志的权利。转载请注明出处：http://zyan.cc
<br>
地址：北京市朝阳区东三环中路39号建外SOHO A座&nbsp;&nbsp;&nbsp;&nbsp;邮编：100022<br>
<script type="text/javascript" language="JavaScript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/a"></script>
<br>
<script language="javascript" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/click.aspx"></script><a href="http://countt.51yes.com/index.aspx?id=36016662" target="_blank"><img width="20" height="20" border="0" hspace="0" vspace="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/count6.gif" alt="51YES网站统计系统"></a><iframe marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="no" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/sa.html" height="0" width="0"></iframe>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F6b0190f1c3f3d3b7a4ae7fc280f82821' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/h.js.下载" type="text/javascript"></script><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="HolmesIcon1510740190" width="20" height="20"><param name="movie" value="http://eiv.baidu.com/hmt/icon/13.swf"><param name="flashvars" value="s=http://tongji.baidu.com/hm-web/welcome/ico?s=6b0190f1c3f3d3b7a4ae7fc280f82821"><param name="allowscriptaccess" value="always"><embed type="application/x-shockwave-flash" name="HolmesIcon1510740190" width="20" height="20" src="http://eiv.baidu.com/hmt/icon/13.swf" flashvars="s=http://tongji.baidu.com/hm-web/welcome/ico?s=6b0190f1c3f3d3b7a4ae7fc280f82821" allowscriptaccess="always"></object>
<script src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/stat.php" language="JavaScript" charset="gb2312"></script><script src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=1109056" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/pic1.gif"></a>
<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=slide&amp;img=1&amp;uid=132153" src="./Nginx 0.8.x + PHP 5.2.10（FastCGI）搭建胜过Apache十倍的Web服务器（第5版）[原创] - 张宴的博客 - Web系统架构与底层研发_files/bds_s_v2.js.下载"></script>

<script type="text/javascript">
	document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?t=" + new Date().getHours();
</script>
<!-- Baidu Button END -->
			<div id="processtime">
			</div>
			</center></div>
		</div>
	</div>
</div>
<script type="text/javascript">
loadSidebar();
</script>

</body></html>